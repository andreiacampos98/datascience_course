"use strict";(self.webpackChunk_snowflake_nu_ui=self.webpackChunk_snowflake_nu_ui||[]).push([["96886"],{194559:function(e,t,r){r.d(t,{A:()=>s});class s{add(e){this.keyCountMapping.has(e)||this.keyCountMapping.set(e,0),this.keyCountMapping.set(e,this.keyCountMapping.get(e)+1)}getCount(e){var t;return null!==(t=this.keyCountMapping.get(e))&&void 0!==t?t:0}map(e){let t=[],r=0;for(let[s,n]of this.keyCountMapping.entries())t.push(e(s,n,r)),r++;return t}get size(){return this.keyCountMapping.size}constructor(){this.keyCountMapping=new Map}}},233171:function(e,t,r){r.d(t,{n:()=>a});var s=r(975371),n=r(22924),i=r(955179),o=r(268811);class a{getTypes(e,t,r,a){let l={};for(let r=1;r<=e.maxCol;r++){let d;let h=e.cols[r],f=e.parameters,p=a.colForColIdx(r);if(d instanceof s.L&&/id$/i.test(p)){let e=new Set;d=new i.y;for(let s=0;s<t.length;s++){let i=t[s][r-1];if(i){if(e.has(i)){d=new n.a;break}e.add(i)}}}else{var u,c;(null==(d=o.g.colTypeForDatabaseType(null!==(c=h.name)&&void 0!==c?c:"",h.externalType,f))?void 0:d.id)==="json"&&"variant"===h.externalType&&(null===(u=h.type)||void 0===u?void 0:u.id)==="category"&&(d=h.type)}l[r]=d}return l}}},726786:function(e,t,r){r.d(t,{m:()=>l});var s=r(975371),n=r(749365),i=r(347690);let o=/^(#)?([,\.])?(##)?(0+)(\.0+)?(%|\\%)?$/,a=/^"?([\$¥£€])/;class l{getTypes(e,t){let r=[];for(let t=1;t<=e.maxCol;t++){let s=e.cols[t];if(s.style){let n=e.styles[s.style];r.push(new u(t,n))}}let s={};return r.forEach(e=>{let t=e.getType();t&&(s[e.colIdx]=t)}),s}}class u{getType(){return this.detectCurrency(this.style)||this.detectNumber(this.style)||this.detectDate(this.style)||null}detectNumber(e){let t=e.fmt.default,r=e.fmt.type,n=e.align,i=t.match(o);if(!i&&"num"!==r||"num"===r&&"@"===t&&"left"===n)return null;let a=new s.L;return i?a.update({precision:i[5]?i[5].length-1:0,thousandsSep:i[2]?i[2]:"",isPercent:!!i[6]}):a}detectDate(e){return"date"!==e.fmt.type?null:new i.U}detectCurrency(e){return e.fmt.default.match(a)?new n.V:null}constructor(e,t){this.colIdx=e,this.style=t}}},964906:function(e,t,r){r.d(t,{f:()=>c});var s=r(18259),n=r(268811),i=r(975371),o=r(758938),a=r(347690),l=r(63373),u=r(84399);class c{getTypes(e,t,r,s){let n=[];for(let t=1;t<=e.maxCol;t++){let i=e.cols[t];(!r||-1!==r.indexOf(t))&&(i.externalType&&"text"!==i.externalType&&"real"!==i.externalType&&"fixed"!==i.externalType&&"variant"!==i.externalType||i.type&&"text"!==i.type.id||n.push(new d(t,s.colForColIdx(t),i.externalType||"")))}for(let r of t)n.forEach(t=>{t.addValue(r[t.colIdx-1],e.cols[t.colIdx].externalType)});let i={};return n.forEach(e=>{let t=e.getType();t&&(i[e.colIdx]=t)}),i}}class d{getType(){let e=this.typeCounts,t=Object.keys(e),r=null,s=0;t.forEach(function(t){e[t]>s&&(r=t,s=e[t])});let i=this.colName.toLowerCase();if("number"===r&&"zip"===i&&(r="text"),!r){if("date"===this.externalType||"timestamp"===this.externalType){let e=n.g.createTypeForId("date");return e.date.showTime="timestamp"===this.externalType,e}return"boolean"===this.externalType?n.g.createTypeForId("bool"):i.endsWith("id")&&!i.endsWith("paid")||"zip"===i||-1===this.externalType.indexOf("int")&&-1===this.externalType.indexOf("float")?null:n.g.createTypeForId("number")}if("text"===r){let e=0,t=0;for(let r of Object.values(this.stringRepetitions))r>1&&e++,r>t&&(t=r);if(!(e>1)&&!(t>4))return null;r="category"}else if(e.text/this.values.length>.05)return null;return n.g.createTypeForId(r).updateFromRows(0,this.values,this.colName,this.externalType)}addValue(e,t){this.values.push([e]),"boolean"===this.externalType?this.addBool(e):"number"==typeof e?this.addNumber(e):e instanceof Date?this.addDate(e):this.addString(e,t)}addBigNumber(e){e.isFinite()&&(!e.isZero()&&e.lt(this.number.min)&&(this.number.min=e),!e.isZero()&&e.gt(this.number.max)&&(this.number.max=e),i.L.isFloat(e)?this.number.hasFloat=!0:this.number.hasInt=!0,this.typeCounts.number++)}addNumber(e){isFinite(e)&&(0!==e&&e<this.number.min.toNumber()&&(this.number.min=new s.O(e)),0!==e&&e>this.number.max.toNumber()&&(this.number.max=new s.O(e)),e%1!=0?this.number.hasFloat=!0:this.number.hasInt=!0,this.typeCounts.number++)}addDate(e){this.typeCounts.date++}addLink(e){this.typeCounts.link++}addJson(e){this.typeCounts.json++}addBool(e){this.typeCounts.bool++}addString(e,t){if(null===e){this.emptyCount++;return}let r=String(e),s=i.L.prototype.parse(r,t);if(null!=s){this.addBigNumber(s);return}let n=a.U.prototype.parse(r);if(null!=n){this.addDate(n.iso);return}let c=u.U.prototype.parse(r);if(null!=c){this.addLink(c);return}if(l.y.test(r)){this.addJson(r);return}if(o.D.prototype.isValidValue(r)){this.addBool(r);return}r?(this.typeCounts.text++,this.stringRepetitions[r]=(this.stringRepetitions[r]||0)+1):this.emptyCount++}constructor(e,t,r){this.colIdx=e,this.colName=t,this.externalType=r,this.values=[],this.number={min:new s.O(Infinity),max:new s.O(-1/0),hasInt:!1,hasFloat:!1},this.currency={min:new s.O(Infinity),max:new s.O(-1/0),hasInt:!1,hasFloat:!1},this.typeCounts={number:0,date:0,currency:0,text:0,email:0,link:0,json:0,bool:0},this.stringRepetitions={},this.emptyCount=0}}},200317:function(e,t,r){r.d(t,{g:()=>n});class s{consumeChunk(e){let t=this.chunk+e,r=this.latestValues,s=!1,n=0;for(let e=0;e<t.length;e++){let i=t[e];if(s){if('"'==i&&e<t.length-1){let i=t[e+1];'"'==i?e++:(","==i||"\n"==i)&&(r.push(t.substring(n+1,e).replace(/""/g,'"')),"\n"==i&&(this.cb(r),r=[]),n=++e+1,s=!1)}}else"\n"==i?(r.push(t.substring(n,e)),this.cb(r),r=[],n=e+1):","==i?(r.push(t.substring(n,e)),n=e+1):'"'==i&&(s=!0)}this.chunk=t.substr(n),this.latestValues=r}close(){this.chunk&&this.consumeChunk("\n")}constructor(e){this.cb=e,this.chunk="",this.latestValues=[]}}let n={Decoder:s,parseRecords:function(e){let t=null,r=[],n=new s(e=>{if(t){let s={};for(let r=0;r<e.length;r++){let n=e[r];s[t[r]]=n}r.push(s)}else t=e});return n.consumeChunk(e),n.close(),r}}},209059:function(e,t,r){r.d(t,{k:()=>i});var s=r(561843);let n=null,i={get:function(){return null==n&&s.cM.error(Error("global ctx not set")),n},set:function(e){n=e}}},290353:function(e,t,r){r.d(t,{oZ:()=>h});var s=r(18259),n=r(604624),i=r(975371),o=r(490696);let a=/^-?([$£€¥]?)(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function l(e){if(null===e)return NaN;let t=e.match(a);return null!=t?(t[1]&&(e=e.replace(t[1],"")),+e):NaN}function u(e){if(null===e)return new s.Z(NaN);let t=e.match(a);if(null==t)return new s.Z(NaN);{t[1]&&(e=e.replace(t[1],""));let r=new s.Z(e);return i.L.isExponentialNumberBeyondLimit(r)?new s.Z(NaN):r}}function c(e){return new n.I(e).year}function d(e){return 12*e.year+(e.month-1)}let h={generateHistograms:function(e,t){let r=e.totalRows||e.maxRow,i={number:!0,currency:!0,date:!0},a=[];for(let t=1;t<=e.maxCol;t++){let o=e.cols[t];if(!o.type||!i[o.type.id]||!o.stats||o.stats.maxValue==o.stats.minValue||r-o.stats.emptyCount-o.stats.invalidCount-o.stats.nullCount<2)continue;let g="date"===o.type.id,m="number",y=l,w=!1;function h(e){return e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER}function f(e){return -1!==e.indexOf(".")&&e.length>=16}let v=()=>!h(+o.stats.minValue)||!h(+o.stats.maxValue),b=()=>f(o.stats.minValue)||f(o.stats.maxValue);if(g){let e=function(e,t){let r=new n.I(e),s=new n.I(t),i=s.valueOf()-r.valueOf();if(i>1&&i<32){var o;return{bucketType:"day",valueParser:(o=r.valueOf(),e=>new n.I(e).valueOf()-o)}}return 12*s.year+(s.month-1)-(12*r.year+(r.month-1))<24?{bucketType:"month",valueParser:function(e){let t=d(e);return e=>d(new n.I(e))-t}(r)}:r.year!=s.year?{bucketType:"year",valueParser:c}:null}(o.stats.minValue,o.stats.maxValue);if(null==e)continue;m=e.bucketType,y=e.valueParser}else(v()||b())&&(y=u,w=!0);let S=[new s.Z(y(o.stats.minValue)),new s.Z(y(o.stats.maxValue))];if(w&&(S[0].isEqualTo(NaN)||S[1].isEqualTo(NaN)))continue;let O=S[1].minus(S[0]);if(!g&&O.gte(1)&&(S[0]=S[0].integerValue(s.Z.ROUND_FLOOR),O=S[1].minus(S[0])),g&&O.eq(0))continue;let E=new s.Z(1),P=O.integerValue(s.Z.ROUND_CEIL);if(O.gt(32)){if((E=O.div(32).integerValue(s.Z.ROUND_CEIL)).gt(100)){var p;E=(p=E).eq(0)?new s.Z(0):p.sd(2)}P=(P=O.div(E)).mod(1).eq(0)?P.plus(1):P.integerValue(s.Z.ROUND_CEIL)}else if(P=P.plus(1),!o.stats.onlyInt&&!g)for(;P.lt(9)&&(P=P.times(2),!E.isEqualTo(E.div(2)));){E=E.div(2);let e=S[0].plus(P.times(E)).minus(S[1]).div(E);e.gt(1)&&(P=P.minus(e.integerValue(s.Z.ROUND_FLOOR).minus(1)))}S[1]=S[0].plus(P.times(E));let T=[];for(let e=0;e<+P;e++)T.push(0);let R={bucketType:m,range:S,interval:E,counts:T};a.push({colIdx:t,valueParser:y,bigNumbers:w,histogram:R})}return new o.k(e,t).rowStream().then(t=>t.readRows((e,t)=>{if(1==t)return!1;a.forEach(t=>{if(!0===t.bigNumbers){let r=t.valueParser(e[t.colIdx-1]);if(r.isFinite()){let e=r.minus(t.histogram.range[0]).div(t.histogram.interval).integerValue(s.Z.ROUND_FLOOR);t.histogram.counts[+e]++}}else{let r=t.valueParser(e[t.colIdx-1]);if(isFinite(r)){let e=Math.floor((r-t.histogram.range[0].toNumber())/t.histogram.interval.toNumber());t.histogram.counts[e]++}}})}).then(()=>(a.forEach(t=>{let r=t.colIdx;e.cols[r].stats.histogram=t.histogram}),e)))}}},410062:function(e,t,r){r.d(t,{b:()=>s});class s{incrementColStyleCount(e,t){this.colStyleCounter[e]||(this.colStyleCounter[e]={}),null==this.colStyleCounter[e][t]?this.colStyleCounter[e][t]=1:this.colStyleCounter[e][t]++}normalizeSheet(e){let t=this.colStyleCounter;Object.keys(t).forEach(r=>{let s=t[r],n=null,i=0;Object.keys(s).forEach(function(e){let t=s[e];t>i&&(n=e,i=t)}),n&&(e.cols[r].style=Number(n))})}normalizeRow(){}constructor(){this.colStyleCounter={}}}},193307:function(e,t,r){r.d(t,{O:()=>i});var s=r(955179),n=r(268811);class i{normalizeSheet(e,t,r){for(let t=1;t<=e.maxCol;t++)!e.cols[t].type&&(this.colsToNormalize.includes(t)||this.colsToNormalize.push(t));let i={};for(let n of(this.detectors.forEach(s=>{let n=s.getTypes(e,t,this.colsToNormalize,r);for(let t of this.colsToNormalize)null!=n[t]&&(i[t]=n[t],e.cols[t].type=n[t])}),this.colsToNormalize))delete e.cols[n].style,e.cols[n].type||(e.cols[n].type=new s.y);this.colTypes=n.g.generateTypes(e)}normalizeRow(e,t){for(let e=0;e<this.colsToNormalize.length;e++){let r=this.colsToNormalize[e],s=r-1;t[s]=this.colTypes[r].getStringValue(t[s])}}constructor(e,t=[]){this.detectors=e,this.colTypes={},this.detectors=e,this.colsToNormalize=t}}},420939:function(e,t,r){r.d(t,{ey:()=>u,ku:()=>c,pO:()=>d});var s=r(233171),n=r(964906),i=r(290353),o=r(490696),a=r(527997);function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}async function u(e,t,r,a,l=!0){let d=new o.k(e,r,{detectors:[new n.f,new s.n],includeBlankRows:!0}),h=await d.rowStream(),f=new o.v(a,t,{generateStats:!0,keepStats:!0,shouldUpdateWidths:l,useNullPlaceholder:!!r});return e=await f.writeStream(h,-1,!0),e=c(e=await i.oZ.generateHistograms(h.sheet,r))}function c(e){let t=a.e.ColNames.fromSheet(e);for(let r=1;r<=e.maxCol;r++)e.cols[r].name=t.colForColIdx(r);return e}function d(e,t){let r=t.filter(e=>"formatCol"===e.type);if(!r.length)return e;(e=l({},e)).cols=l({},e.cols);let s=a.e.ColNames.fromSheet(e);for(let t of r){let r=s.colIdxForCol(t.col);if(r<1)continue;let n=e.cols[r];(n=l({},n)).type=t.colType,e.cols[r]=n}return e}},710460:function(e,t,r){r.d(t,{R:()=>n});var s=r(282228);class n{addValues(e){for(let t=0;t<e.length;t++)this.stats[t+1].addValue(e[t])}save(){for(let e=1;e<=this.sheet.maxCol;e++){let t=this.stats[e].export(),r=this.sheet.cols[e];r.stats=t,"category"===r.type.id&&null==t.categories&&(r.type.id="text")}}constructor(e,t={}){this.sheet=e,this.stats={};for(let n=1;n<=e.maxCol;n++){var r;this.stats[n]=new s.K(null===(r=e.cols[n])||void 0===r?void 0:r.type,t)}}}},282228:function(e,t,r){r.d(t,{K:()=>g});var s=r(18259),n=r(194559),i=r(975371),o=r(758938),a=r(22924),l=r(749365),u=r(756927),c=r(63373),d=r(955179),h=r(263356);function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}class g{static jsonType(e){return null===e?"null":"undefined"===e?"undefined":Array.isArray(e)?"array":typeof e}static getSortedCategoriesWithCount(e){let t=e.map((e,t)=>({category:e,count:t}));return t.sort((e,t)=>t.count-e.count),t}export(){return p(f({},this.stats,this.exportCategoriesStats()),{jsonStats:this.exportJsonStats(),minValue:String(this.minValue),maxValue:String(this.maxValue),onlyInt:this.count>0&&!!this.stats.onlyInt})}exportCategoriesStats(){if(this.stats.categoryCount>1e4||this.stats.invalidCategoryCount>0)return{categories:null,categoryCount:0};let e=g.getSortedCategoriesWithCount(this.categoriesCounter);return{categories:e.slice(0,a.a.MAX_ITEMS),categoryCount:e.length}}exportJsonStats(){let e=g.getSortedCategoriesWithCount(this.jsonCounters.types),t=g.getSortedCategoriesWithCount(this.jsonCounters.keys),r=g.getSortedCategoriesWithCount(this.jsonCounters.values).map(e=>p(f({},e),{category:e.category.slice(0,c.a.STATS_MAX_VALUE_LENGTH)}));return{typeCount:e.length,types:e,keyCount:t.length,keys:t.slice(0,c.a.STATS_MAX_KEYS),valueCount:r.length,values:r.slice(0,c.a.STATS_MAX_VALUES)}}addValue(e){if(this.count++,""===e){this.stats.emptyCount++;return}if(null===e||this.options.useNullPlaceholder&&e===h.L){this.stats.nullCount++;return}if(!this.type.isValidValue(e)){this.stats.invalidCount++;return}if(!(this.type instanceof d.y)){if(this.type instanceof c.a){let t=this.type.getNativeValue(e),r=g.jsonType(t);if(this.jsonCounters.types.add(r),"object"===r)Object.keys(t).forEach(e=>{this.jsonCounters.keys.add(e)});else if("string"===r||"number"===r||"boolean"===r){let e=String(t);this.jsonCounters.values.add(e)}return}if((this.type instanceof a.a||this.type instanceof o.D)&&this.stats.categoryCount<=1e4){a.a.isCategorical(e)?(this.stats.categoryCount=this.categoriesCounter.size,this.categoriesCounter.add(e)):this.stats.invalidCategoryCount++;return}if(this.type instanceof u.V){let t=this.type.getNativeValue(e);t.domain&&this.categoriesCounter.add(t.domain)}if(this.type instanceof i.L){let t=new s.Z(e);if(i.L.isExponentialNumberBeyondLimit(t)){this.stats.invalidDueToExceedingBigNumberRange=!0;return}this.computeStatsForBigNumberValue(t)}else{let t=this.type.getSortableValue(e);this.computeStatsForNativeValue(t)}}}computeStatsForNativeValue(e){if((""===this.minValue||e<this.minValue)&&(this.minValue=e),(""===this.maxValue||e>this.maxValue)&&(this.maxValue=e),this.type instanceof i.L||this.type instanceof l.V){if(null==this.stats.onlyInt&&(this.stats.onlyInt=!0),e%1!=0&&(this.stats.onlyInt=!1),null==this.stats.total)this.stats.total=e;else{let t=this.stats.total+e;if(!(t>=Number.MIN_SAFE_INTEGER)||!(t<=Number.MAX_SAFE_INTEGER))return!1;this.stats.total=t}}return!0}computeStatsForBigNumberValue(e){if((""===this.minValue||e.lt(this.minValue))&&(this.minValue=e),(""===this.maxValue||e.gt(this.maxValue))&&(this.maxValue=e),this.type instanceof i.L||this.type instanceof l.V){if(null==this.stats.onlyInt&&(this.stats.onlyInt=!0),i.L.isFloat(e)&&(this.stats.onlyInt=!1),null==this.stats.total)this.stats.total=e;else{if(i.L.isExponentialNumberBeyondLimit(this.stats.total)){this.stats.invalidDueToExceedingBigNumberRange=!0;return}this.stats.total instanceof s.Z?this.stats.total=this.stats.total.plus(e):this.stats.total=new s.Z(this.stats.total).plus(e)}}}constructor(e,t={}){this.stats={emptyCount:0,invalidCount:0,nullCount:0,categoryCount:0,invalidCategoryCount:0,total:null,onlyInt:null,minimumDecimalDigits:0,jsonStats:{typeCount:0,types:[],keyCount:0,keys:[],valueCount:0,values:[]},invalidDueToExceedingBigNumberRange:!1},this.count=0,this.categoriesCounter=new n.A,this.jsonCounters={types:new n.A,keys:new n.A,values:new n.A},this.options={useNullPlaceholder:!1},this.minValue="",this.maxValue="",this.type=e||new d.y,this.options=f({},this.options,t)}}},580038:function(e,t,r){r.d(t,{$:()=>i});var s=r(27399),n=r(703550);class i extends n.A{writeRow(e){return this.bufferStream?this.bufferStream.writeRow(e):(this.rowIdx++,this.rowIdx>1&&this.shouldNormalizeRows&&this.normalizers.forEach(t=>t.normalizeRow(this.sheet,e)),super.writeRow(e))}close(){this.bufferStream?this.bufferStream.close():super.close()}constructor(e,t,r,n=!0){super(e,t),this.normalizers=r,this.rowIdx=0,this.shouldNormalizeRows=n,this.bufferStream=new s.k(100,r=>{let s=r.slice(1);return this.normalizers.forEach(r=>r.normalizeSheet(e,s,t)),this.bufferStream=null,this},this.error.bind(this))}}},27399:function(e,t,r){r.d(t,{k:()=>s});class s{writeRow(e){return this.rowStream?this.rowStream.writeRow(e):(this.rowBuffer.push(e),this.rowBuffer.length>=this.bufferSize&&this.createRowStream(),!1)}createRowStream(){try{this.rowStream=this.rowStreamForBuffer(this.rowBuffer);for(let e=0;e<this.rowBuffer.length;e++)this.rowStream.writeRow(this.rowBuffer[e])}catch(e){this.error(e)}}close(){this.rowStream||this.createRowStream(),this.rowStream.close()}error(e){this.rowStream?this.rowStream.error(e):this.errorHandler&&this.errorHandler(e)}constructor(e,t,r){this.bufferSize=e,this.rowStreamForBuffer=t,this.errorHandler=r,this.rowBuffer=[],this.rowStream=null}}},703550:function(e,t,r){r.d(t,{A:()=>s});class s{static from(e){let t=new s;return Object.assign(t,e),t}writeRow(e){if(this.closed){console.error("RowStream already closed");return}if(this.iter){if(this.iterRowIdx++,this.iter(e,this.iterRowIdx))return this.close(),!0}else this.buffered.push(e)}readRows(e){return this._error?Promise.reject(this._error):(this.iter=e,new Promise((t,r)=>{this.resolve=t,this.reject=r;let s=this.closed;if(this.buffered){for(let t=0;t<this.buffered.length;t++)if(this.iterRowIdx++,e(this.buffered[t],this.iterRowIdx)){this.close();break}delete this.buffered}s&&t(void 0)}))}error(e){this._error=e,this.reject&&this.reject(e)}close(){!this.closed&&(this.resolve&&this.resolve(void 0),this.closed=!0)}constructor(e,t){this.sheet=e,this.colNames=t,this.buffered=[],this.closed=!1,this.iterRowIdx=0}}},490696:function(e,t,r){r.d(t,{k:()=>y,v:()=>v});var s=r(726786),n=r(268811),i=r(200317),o=r(561843),a=r(410062),l=r(193307),u=r(263356),c=r(527997),d=r(891772),h=r(710460),f=r(580038),p=r(703550);function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}let m=500/3;class y{rowStream(e={}){let t=e.headerRow||1,r=this.sheet,n=this.blobClient,d=this.options,h=!!d.includeBlankRows;return new Promise(function(g,m){let y=null,w=0,v=new a.b;function b(t){let n=new c.e.ColNames(t);if(u.J.isTypedSheet(r))y=new p.A(r,n);else{let t=d.detectors||[new s.m],i=d.normalizers||[v,new l.O(t)];y=new f.$(r,n,i,e.shouldNormalizeRows)}return g(y),y.writeRow(y.colNames.names())}if(0==t){let e=[];for(let t=0;t<r.maxCol;t++)e.push("");b(e)}function S(e){if(y&&y.closed)return!0;if(++w<t)return!1;for(let t=e.length;t<r.maxCol;t++)e.push("");if(w===t)return b(e);for(let t=0;t<e.length;t++)if(h||""!==e[t])return y.writeRow(e);return!1}function O(){if(!y){m(Error("Cannot create row stream. Sheet is empty."));return}y.closed||y.close()}if(r.rows){for(let e=1;e<=r.maxRow;e++){let t=r.rows[e],s=[];if(void 0!==t&&void 0!==t.cells)for(let e=1;e<=r.maxCol;e++){let r=t.cells[e];void 0!==r&&""!==r.v?(s.push(r.v),r.s&&v.incrementColStyleCount(e,r.s)):s.push("")}if((s.length>0||h)&&S(s))break}O()}else{if(!n)return O();n.read(r.rowsBlob,function(e){if(200!=e.statusCode){m(Error("Received bad status code ("+e.statusCode+") for rowsBlob: "+r.rowsBlob));return}e.setEncoding("utf8");let t=new i.g.Decoder(S);e.on("data",function(e){t.consumeChunk(e)}),e.on("end",function(){t.close(),O()}),e.on("error",function(e){o.cM.error(Error("Received blob read error for "+r.rowsBlob+": "+e)),y?y.error(e):m(e)})})}})}constructor(e,t,r){this.sheet=e,this.blobClient=t,this.options=r,e=g({},e);let s={};for(let t=1;t<=e.maxCol;t++){let r=g({},e.cols[t]);r||(r={}),r.type&&(r.type=n.g.objectToType(r.type)),s[t]=r}e.cols=s;let i=[];for(let t=0;t<e.styles.length;t++){let r=c.e.simplifyStyle(e.styles[t]);r.fmt.default.match(/[0#]/)||"date"==r.fmt.type?r.align="right":r.align="left",i.push(r)}e.styles=i,this.sheet=e,this.options=g({detectors:null,normalizers:null},r)}}let w={generateStats:!1,keepStats:!1,shouldUpdateWidths:!0,useNullPlaceholder:!1};class v{writeStream(e,t=-1,r=!1){var s;let i=this.options.generateStats,o=this.options.keepStats,a={cols:e.sheet.cols,maxCol:e.sheet.maxCol,maxRow:0,styles:e.sheet.styles,properties:{ySplit:1,defaultRowHeight:28},parameters:e.sheet.parameters},l=null===(s=e.sheet.parameters)||void 0===s?void 0:s.time_output_format;return void 0===t&&(t=-1),new Promise((s,c)=>{let f=null,p=null;this.blobClient?(delete a.rows,p=this.blobClient.startWrite(function(e){c(e)})):a.rows={};let m={},y={},w=0;for(let e=1;e<=a.maxCol;e++)m[e]={maxWidth:0,rowsTouched:0,rowsChecked:0};let v=null,S=null;e.readRows(e=>{if(null===v){v=[];for(let e=0;e<a.styles.length;e++)v.push(g({},a.styles[e]));d.r.processStyles(v),S=n.g.generateColStyles(a.cols,l)}let s=!1,o=0;for(;o<e.length;o++)if(e[o]||null===e[o]){s=!0;break}if(!s&&!r)return!1;if(a.maxRow++,!f&&i&&(f=new h.R(a,{useNullPlaceholder:this.options.useNullPlaceholder})),this.options.shouldUpdateWidths&&w<a.maxCol)for(let t=1;t<=e.length;t++){let r=m[t];if(r.rowsChecked>=100||r.rowsTouched>=1e3){!y[t]&&(y[t]=!0,w++);continue}this.updateColWidth({i:o,sheet:a,values:e,styles:v,colTypeStyles:S,colIdx:t,colWidthCount:r})}if(f&&a.maxRow>1&&f.addValues(e),p){let t=[];for(let r=0;r<e.length;r++){var c,O;c=t,(O=e[r]).match(b)&&(O='"'+O.replace(/"/g,'""')+'"'),c.push(O)}p.write(t.join(",")+"\n")}else(-1==t||a.maxRow<=t+1)&&(a.rows[a.maxRow]=u.J.sheetRowForValues(e));return!(t>-1)&&!1}).then(()=>{if(-1===t)a.totalRows=a.maxRow;else if(a.maxRow>t){for(let e=a.maxRow;e>t;e--)delete a.rows[e];a.totalRows=a.maxRow,a.maxRow=t}if(f?f.save():f||o||u.J.removeColStats(a),this.options.shouldUpdateWidths)for(let e=1;e<=a.maxCol;e++){let t=m[e].maxWidth,r=a.cols[e].type,s=S[e],n=a.cols[e].stats;r&&"category"===r.id&&n&&n.categories&&(t=this.updateWidthForCategoricalCol({categories:n.categories,colStyle:s,sheet:a,currColWidth:m[e].maxWidth})),t>0?a.cols[e].width=t:delete a.cols[e].width}this.blobClient?this.blobClient.endWrite(p,function(e){a.rowsBlob=e,s(a)}):s(a)}).catch(function(e){c(e)})})}measureText(e,t,r){let s=r?e:u.J.formatCellValue(e,t);return!s||s.length<8?0:s.length>m?500:r?c.e.colHeaderWidth(this.ctx,s):c.e.colWidth(this.ctx,s)}updateColWidth(e){let{i:t,sheet:r,values:s,styles:n,colTypeStyles:i,colIdx:a,colWidthCount:l}=e,u=s[a-1];if("string"!=typeof u&&null!==u&&o.cM.warn(`Invalid value in row ${t+1}, values:${s}`),void 0===u||""===u){l.rowsTouched++;return}let d=n[r.cols[a].style||0];if(1==r.maxRow?d=c.e.simplifiedHeaderStyle:i[a]&&(d=i[a]),l.maxWidth<500){let e=Math.min(this.measureText(u,d,1==r.maxRow),500);e>l.maxWidth&&(l.maxWidth=e)}l.rowsChecked++,l.rowsTouched++}updateWidthForCategoricalCol(e){let{categories:t,colStyle:r,sheet:s,currColWidth:n}=e,i=n;for(let e=0;e<t.length;e++){let n=t[e].category,o=this.measureText(n,r,1==s.maxRow);if(o>=500){i=500;break}o>i&&(i=o)}return i}constructor(e,t,r={}){this.blobClient=e,this.ctx=t,this.options=w,this.options=g({},this.options,r)}}let b=/[",\n]/},999694:function(e,t,r){r.d(t,{D:()=>o,p:()=>n});var s=r(155096);class n{wait(e){let t=Date.now();if(this.maybeUpdateBucketStart(t),this.numRequests<this.rps)return this.numRequests+=1,Promise.resolve();{var r,n;let t=new Promise(e=>{this.queuedResolvers.push(e)}),i="";return this.isLoggingEnabled&&void 0!==e&&(i=this.tryNormalizeUrl(e)),!this.timer&&(this.timer=window.setTimeout(this.onTimer,1e3),this.isLoggingEnabled&&(null===(r=this.logger)||void 0===r||r.addAction(s.b1,{url:e,urlGroup:i}))),this.isLoggingEnabled&&(null===(n=this.logger)||void 0===n||n.addAction(s.pP,{url:e,urlGroup:i})),t}}tryNormalizeUrl(e){try{return o(e)}catch(r){if(this.isLoggingEnabled){var t;null===(t=this.logger)||void 0===t||t.addAction(s.tL,{url:e})}return""}}maybeUpdateBucketStart(e){let t=e-e%1e3;this.bucketStart!==t&&(this.bucketStart=t,this.numRequests=0)}constructor(e,t){this.onTimer=()=>{for(window.clearTimeout(this.timer),this.timer=void 0,this.maybeUpdateBucketStart(Date.now());this.queuedResolvers.length>0&&this.numRequests<this.rps;){let e=this.queuedResolvers.shift();e&&(e(),this.numRequests+=1)}if(this.queuedResolvers.length>0)this.timer=window.setTimeout(this.onTimer,1e3);else if(this.isLoggingEnabled){var e;null===(e=this.logger)||void 0===e||e.addAction(s.iV)}},this.rps=e,this.queuedResolvers=[],this.numRequests=0,t?(this.logger=t,this.isLoggingEnabled=!0):this.isLoggingEnabled=!1}}let i=new Set(["","a","account-url","add-new-session","all-roles","applica","avatarPreview","avatars","billing","blobs","bootstrap","bootstrap-data-request","browse","catalog","charts","check","check-user-session","cmdline","columns","complete-oauth","complete-secret","console","consumerbillingcontact-mc","consumerrequest-mc","copilot","cortex-chat","credit-card","csv-download","dashboard","databases","datadictionary","debug","delta","dev","download","dx","entities","errors","events","exchange-mc","featured-objects","feedback","fetch-account-deployment-info","fetch-account-deployment-info-from-url","fetch-bootstrap-data","fetch-extended-bootstrap-data","fetch_iframe.html","files","folders","generate-completion","get-regions-detail","get-semantic-models","guest","healthcheck","inline-completion","internal","list","listing","marketplace","members","members-search","modify-parameters","notification-contacts","null","oauth","object-details","objects","onboarding","open-graph","organizations","param","payment-method","pinned-objects","pprof","prefs","preview","profile","profile-image","provider-studio","published-preview","queries","query","readiness","refresh-catalog","request","resources","result","role-permissions","roles","run-query","search","send-feedback","sendValidationEmail","session","sessions","settings","setup-intent","sf","shared-object-list","signout","signout-account","sitemap.xml","smart-tags","snowflake","snowscope","start-oauth","start-redirect-oauth","stream","stripe-redirect","suggest","symbol","sync-snowflake-user-and-org","table-preview","terms-and-billing","timing","trace","transform","trial-extension","update-custom-instructions","update-database-schema","update-num-classic-ui-worksheets","update-reference-worksheet-setting","update-sample-data-setting","update-semantic-model","upload","v0","validate-snowflake-account-region","validate-snowflake-url","view-result-grants","views","warehouses","worksheet","worksheets-download"]);function o(e){let t=new URL(e),r=t.searchParams.get("desc"),s=r?`?desc=${r}`:"";return t.pathname.split("/").map(e=>i.has(e)?e:":unknown").join("/")+s}},462319:function(e,t,r){r.d(t,{JX:()=>a,Kt:()=>o,Nh:()=>i,Pn:()=>s,mO:()=>n,se:()=>l});let s="Content-Disposition",n="Content-Length",i="Content-Type",o="X-Reload",a="X-Numeracy-Version",l="X-Snowflake-Request-ID"},155096:function(e,t,r){r.d(t,{b1:()=>n,iV:()=>i,pP:()=>s,tL:()=>o});let s="rate-limiter-queues-request",n="rate-limiter-start-queuing",i="rate-limiter-queue-cleared",o="rate-limiter-normalizing-url-error"},885949:function(e,t,r){r.d(t,{$D:()=>u,Bq:()=>s,GF:()=>l,Jk:()=>i,XW:()=>o,dR:()=>c,q$:()=>d,rJ:()=>a,sM:()=>n});let s="ALL",n="NONE",i="ACCOUNTADMIN",o="GLOBALORGADMIN",a="ORGADMIN",l="SECURITYADMIN",u="PUBLIC",c="SYSADMIN",d="USERADMIN"},466646:function(e,t,r){r.r(t),r.d(t,{bootstrap:()=>C,handleBootstrapResponse:()=>k,nufetch:()=>_,nufetchForm:()=>I,simpleBootstrap:()=>x,testing:()=>E,uploadFileWithProgress:()=>R,uploadFormWithProgress:()=>T});var s=r(54649),n=r(561843),i=r(207055),o=r.n(i),a=r(80583),l=r(487424),u=r(757668),c=r(404776),d=r(96012),h=r(999694),f=r(462319),p=r(425653),g=r(469093),m=r(244443),y=r(918985),w=r(70427);function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}let b={},S=new h.p(20);function O(e,t){if(!t||!e)return e;let r=e.split("\n"),s=t.split("\n");if(!(r.length>0)||!(s.length>0))return e;{let e=r[0];return s[0]=e,r[1]&&s.splice(1,1,r[1]),s.join("\n")}}let E={constructSyntheticStack:O};async function P(e,t,r,s){var i,l;let[c,d]=(0,u.h)(e,t,o()(null!=r?r:{}),n.cM);if(a.T.csrfToken){if(a.T.appServerUrl!==e.appServerUrl&&e.isSecondaryUser){let t=b[e.appServerUrl];if(!t){let r=await fetch(e.appServerUrl+"/bootstrap",c);200===r.status&&(t=(await r.json()).PageParams.csrfToken,b[e.appServerUrl]=t)}d[u.x.csrfToken]=t}else d[u.x.csrfToken]=a.T.csrfToken}return"string"==typeof s&&(d[w.s8]=(0,w.t9)(s)),i=v({},c),l=l={headers:d},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i}async function T({path:e,requestContext:t,formData:r,signal:s,onProgress:n=()=>void 0,versionPrefix:i="/v0"}){return await new Promise(async(o,l)=>{var u,h;if(null==s?void 0:s.aborted)return l(new c._);let f=new XMLHttpRequest;function p(){f.abort()}let m=()=>{let e;try{var t,r;let s=JSON.parse(f.responseText);e=null!==(r=null==s?void 0:null===(t=s.error)||void 0===t?void 0:t.message)&&void 0!==r?r:f.responseText}catch(t){e=f.responseText||"Unknown error"}l(new d.M(f.status,{message:e}))};f.upload.addEventListener("progress",e=>n({progress:e.loaded/e.total})),f.addEventListener("load",()=>{if(f.status>=200&&f.status<400)return o(f.response);m()}),f.addEventListener("abort",()=>l(new c._)),f.addEventListener("error",m),f.addEventListener("timeout",()=>l(Error(f.responseText))),s&&(s.addEventListener("abort",p),f.addEventListener("readystatechange",()=>{f.readyState===XMLHttpRequest.DONE&&s.removeEventListener("abort",p)}));let y=null===(h=a.X.pageState)||void 0===h?void 0:null===(u=h.user)||void 0===u?void 0:u.id,w=await P(t,y),v=(0,g.o)(e,t,i);for(let[e,t]of(f.open("POST",v,!0),f.withCredentials=!0,Object.entries(w.headers)))f.setRequestHeader(e,t);f.send(r)})}async function R({path:e,requestContext:t,formData:r,file:s,signal:n,onProgress:i=()=>void 0,versionPrefix:o="/v1"}){return await new Promise(async(l,u)=>{var h,f;if(null==n?void 0:n.aborted)return u(new c._);let p=new XMLHttpRequest;function m(){p.abort()}let y=()=>{let e;try{var t,r;let s=JSON.parse(p.responseText);e=null!==(r=null==s?void 0:null===(t=s.error)||void 0===t?void 0:t.message)&&void 0!==r?r:p.responseText}catch(t){e=p.responseText||"Unknown error"}u(new d.M(p.status,{message:e}))};p.upload.addEventListener("progress",e=>i({progress:e.loaded/e.total})),p.addEventListener("load",()=>{if(p.status>=200&&p.status<400)return l(p.response);y()}),p.addEventListener("abort",()=>u(new c._)),p.addEventListener("error",y),p.addEventListener("timeout",()=>u(Error(p.responseText))),n&&(n.addEventListener("abort",m),p.addEventListener("readystatechange",()=>{p.readyState===XMLHttpRequest.DONE&&n.removeEventListener("abort",m)}));let w=null===(f=a.X.pageState)||void 0===f?void 0:null===(h=f.user)||void 0===h?void 0:h.id,v=await P(t,w),b=new URLSearchParams;r.forEach((e,t)=>{b.append(t,e.toString())});let S=`${e}?${b.toString()}`,O=(0,g.o)(S,t,o);for(let[e,t]of(p.open("POST",O,!0),p.withCredentials=!0,Object.entries(v.headers)))p.setRequestHeader(e,t);p.setRequestHeader("Content-Type","application/octet-stream"),p.send(s)})}async function _(e,t,r,i,o,u){var c,h,w,b;if(u){if(void 0!==r)throw Error("nufetch does not support `providedOptions` with `prefetchedResponse`");if(void 0!==i)throw Error("nufetch does not support `versionPrefix` with `prefetchedResponse`");if(void 0!==o)throw Error("nufetch does not support `canGuestFetch` with `prefetchedResponse`")}if((a.X.pageIsInvalid||(null===(h=a.X.stores)||void 0===h?void 0:null===(c=h.user)||void 0===c?void 0:c.signoutInProgress))&&"/signout"!=e&&"/signout-account"!=e)return new Promise((e,t)=>{});let E=Error("synthetic error"),T=(0,g.o)(e,t,i,o),R=a.X.pageState&&a.X.pageState.user&&a.X.pageState.user.id,_=await P(t,R,r,T);try{let r=!1;try{r=null!==(w=(0,y._)("UI_ENABLE_UI_PLATFORM_FEATURE_31"))&&void 0!==w&&w}catch(e){n.cM.error(e,{sourceName:"snowFetch"})}r||["/snowscope/search","/snowscope/suggest"].includes(e)||await S.wait();let i=u?await u:await (0,p.A)(t.appServerUrl)(T,_);if(i.status>=200&&i.status<300){let t=i.headers.get(f.JX);if(t&&t!==a.X.latestClientVersion&&(a.X.latestClientVersion=t,a.X.latestClientVersionChanged=new Date),"Immediate"===i.headers.get(f.Kt)&&window.location.reload(),204==i.status||"0"===i.headers.get("Content-Length"))return i;try{let e=i.headers.get(f.Pn);if(e&&/attachment/.test(e))return await (0,m.Sv)(i),{};let t=i.headers.get(f.Nh);if(t&&"text/plain"===t)return{textContent:await i.text()};if(t&&"text/event-stream"===t&&i.body)return i;if(t&&/image/.test(t))return await i.blob();return await i.json()}catch(t){throw n.cM.error(t,{message:"nufetch: exception reading JSON from non-error response (download file)",extra:{path:e,statusCode:i.status}}),new d.M(i.status,{type:s.ErrorType.apps,code:s.AppsErrorCode.FailedToParseJSON})}}else{let t;let r=i.headers.get(f.se);try{if((null===(b=i.headers.get(f.Nh))||void 0===b?void 0:b.indexOf("text/plain"))!==-1)t={message:await i.text(),requestId:r};else{let e=await i.json();t=v({requestId:r},e)}}catch(t){throw e&&-1!==e.indexOf("/timing")&&403===i.status||n.cM.error(t,{message:"nufetch: exception reading non-error response",extra:{path:e,statusCode:i.status,responseLength:i.headers.get(f.mO),snowflakeRequestId:r}}),new d.M(i.status,{type:s.ErrorType.apps,code:s.AppsErrorCode.FailedToParseJSON})}throw new d.M(i.status,t)}}catch(e){if(e instanceof d.M){if(e.code===s.AppsErrorCode.UserLoggedOut)t.isSecondaryUser||null==R||(a.X.pageIsInvalid=!0,window.location.href=window.location.origin);else if(e.code==s.AppsErrorCode.NotProvisioned)return a.T.notProvisioned=!0,window.location.reload(),new Promise((e,t)=>{});else if(e.code===s.AppsErrorCode.NetPolicyFailed)return a.X.pageIsInvalid=!0,a.X.stores&&a.X.stores.globalError.setAccessError(e),new Promise((e,t)=>{})}else(0,l.eE)(e,{"error.kind":"network","error.code":"unknown"});throw e.stack=O(e.stack,E.stack),e}}function I(e,t,r,s){let n=Object.assign({},r);return"string"!=typeof n.body||(n.headers||(n.headers={}),n.headers=n.headers,n.headers[f.Nh]||(n.headers[f.Nh]="application/x-www-form-urlencoded")),_(e,t,n,s)}let A={User:"user",PageType:"pageType",PageParams:"pageParams",Error:"error"};async function C(e,t=""){return k(await x(e,t))}function k(e){let t=e.redirect;if(t)return window.location.href=t,new Promise(()=>{});for(let t in e){let r=A[t];r&&(window[r]=e[t])}return e}async function x(e,t=""){return _(`/bootstrap${t}`,e,void 0,"",!1)}window.numeracy.tests={testhealthcheck:async e=>{try{let t=await _(`/healthcheck?check=${e}`,window.numeracy.stores.user.userRequestContext());console.log(t)}catch(e){console.error(e)}}}},469093:function(e,t,r){r.d(t,{o:()=>o});var s=r(80583),n=r(946570),i=r(792529);function o(e,t,r="/v0",a=!0){var l,u;let c=!!(null===(u=s.X.stores)||void 0===u?void 0:null===(l=u.user)||void 0===l?void 0:l.isGuestUser)||!!t.isGuest,d=(0,i.r)(window.location.hostname),h=c&&a&&!d,f=h&&!(0,n.WC)()?"":t.appServerUrl;return`${f}${r}${h?"/guest":""}${e}`}},149562:function(e,t,r){r.d(t,{m:()=>n});var s=r(885949);function n(e){return e?s.XW:s.Jk}},769397:function(e,t,r){r.d(t,{D:()=>n});var s=r(885949);function n(e){return e?s.XW:s.rJ}},603112:function(e,t,r){r.d(t,{i:()=>n});var s=r(885949);function n(e){return!!e&&0!==e.length&&(e.includes(s.Jk)||e.includes(s.XW))}},213041:function(e,t,r){r.d(t,{j:()=>n});var s=r(885949);function n(e){return!!e&&0!==e.length&&(e.includes(s.rJ)||e.includes(s.XW))}},51151:function(e,t,r){r.d(t,{w:()=>n});var s=r(885949);function n(e){return!!e&&0!==e.length&&e.includes(s.GF)}},888541:function(e,t,r){r.d(t,{e:()=>i});var s=r(96012);let n=["TypeError: Failed to fetch","Failed to fetch","NetworkError when attempting to fetch resource.","Load failed"],i=e=>!(e instanceof s.M)&&e instanceof Error&&!!e.message&&n.includes(e.message)},155205:function(e,t,r){r.d(t,{h:()=>n});var s=r(885949);function n(e){return!!e&&(e===s.Jk||e===s.XW)}},476335:function(e,t,r){r.d(t,{l:()=>n});var s=r(885949);function n(e){return!!e&&(e===s.rJ||e===s.XW)}},469264:function(e,t,r){r.d(t,{E:()=>n});var s=r(885949);function n(e){return!!e&&e===s.GF}},70427:function(e,t,r){r.d(t,{s8:()=>s,sO:()=>i,t9:()=>o});let s="X-Snowflake-Page-Source",n={};function i(e){return n=e,()=>{n={}}}function o(e){let t="unknown";try{new URL(e,window.location.origin).pathname.startsWith("/v0")&&(t=function(){let{page:e,pageType:t}=n;return"dashboard"===t?"dashboard":"query"===t?"worksheet":"folder"===t&&("worksheets"===e||"dashboards"===e)?e:"unknown"}())}catch(e){}return t}},38508:function(e,t,r){r.d(t,{P:()=>i});var s=r(946570),n=r(900472);let i=()=>(0,s.WC)()&&!!localStorage.getItem(n.F.SNOWSIGHT_DEVELOPER_TOOLS)},376147:function(e,t,r){r.d(t,{D:()=>s});function s(e,t,r){let s,n,i,o,a;let l=function(){let u=new Date().getTime()-o;u<t&&u>=0?s=setTimeout(l,t-u):(s=null,r||(a=e.apply(i,n),s||(i=n=null)))},u=function(...u){i=this,n=arguments,o=new Date().getTime();let c=r&&!s;return s||(s=setTimeout(l,t)),c&&(a=e.apply(i,n),i=n=null),a};return u.cancel=function(){clearTimeout(s),s=null},u}},421639:function(e,t,r){r.d(t,{W:()=>i});var s=r(440528),n=r.n(s);function i(e){return n().h32(e,0xdeadbeef).toString(16)}},295591:function(e,t,r){r.d(t,{P:()=>s});function s(e,t,r){let s,n,i,o;let a=0;r||(r={});let l=function(){a=(null==r?void 0:r.leading)===!1?0:new Date().getTime(),s=0,o=e.apply(n,i),s||(n=i=null)},u=function(){let u=new Date().getTime();a||(null==r?void 0:r.leading)!==!1||(a=u);let c=t-(u-a);return n=this,i=arguments,c<=0||c>t?(s&&(clearTimeout(s),s=0),a=u,o=e.apply(n,i),s||(n=i=null)):s||(null==r?void 0:r.trailing)===!1||(s=setTimeout(l,c)),o};return u.cancel=function(){clearTimeout(s),a=0,s=0,n=i=null},u.flush=function(){if(s)return clearTimeout(s),l(),o},u}},574745:function(e,t,r){r.d(t,{g:()=>o,o:()=>i});let s=`
# The Snowpark package is required for Python Worksheets. 
# You can add more packages by selecting them using the Packages control and then importing them.

import snowflake.snowpark as snowpark
from snowflake.snowpark.functions import col

def main(session: snowpark.Session): 
    # Your code goes here, inside the "main" handler.
    tableName = 'information_schema.packages'
    dataframe = session.table(tableName).filter(col("language") == 'python')

    # Print a sample of the dataframe to standard output.
    dataframe.show()

    # Return value will appear in the Results tab.
    return dataframe 
`.trim(),n=`
import com.snowflake.snowpark._

object Procedure {
  def main(session: Session): String = {
    var rows = session.sql("select 'Hello, Scala!'").collect();
    return rows(0).getString(0);
  }
}
`.trim(),i={sql:"",python:s,scala:n,java:`
import com.snowflake.snowpark.Session;

class Procedure {
    public static String main(Session session) {
        return session.sql("select 'Hello, Java!'").collect()[0].getString(0);
    }
}
`.trim(),javascript:`
/*
const resultSet = snowflake.execute({ sqlText: "select 'Hello, JavaScript!'" });
resultSet.next();
return resultSet.getColumnValue(1);
*/
`.trim()},o={python:{returnType:"Table()",runtimeVersion:"3.11"}}},769062:function(e,t,r){r.d(t,{s:()=>n});var s=r(142079);let n=(e,t,r)=>new Proxy(e,{set(e,n,i,o){if("string"==typeof n&&"toReduxState"in i&&"function"==typeof i.toReduxState){let e=structuredClone(i.toReduxState());r.dispatch((0,s.mX)({name:t,id:n,value:e}))}return Reflect.set(e,n,i,o)},deleteProperty:(e,t)=>(delete e[t],!0)})},106168:function(e,t,r){r.d(t,{s:()=>a});var s=r(485387),n=r.n(s),i=r(245827),o=r(852139);class a extends o.H{defaultName(e,t){let r=n()().format("YYYY-MM-DD"),s=e===i.i0?i.i0:"folder";return t?`Import ${r}`:`${r} ${s}`}label(e,t=!0){return t?e({id:"Folder"}):e({id:"folder"})}get virtual(){return this._virtual}toReduxState(){return{id:this.id,type:this.type}}constructor(e,t){super(e||"UNCREATED_FOLDER_ID",t),this.orgId=t.orgId||null,this.type=t.type,this.ownerId=t.ownerId||null,this.name=t.name||this.defaultName(this.type,t.isImported),this.slug=t.slug||this.id,this.url=t.url||null,this.editable=t.editable||!1,this._virtual=t.virtual||!1}}},915470:function(e,t,r){r.d(t,{B:()=>n});var s=r(852139);class n extends s.H{getModelStoreIndexableByUUID(){return`${this.id}`}static cloneChartWithNewSnowflakeRequestId(e,t){var r,s;return new n(e.id,(r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({},e),s=s={snowflakeRequestId:t},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(s)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(s,e))}),r))}constructor(e,t={}){super(e,t),this.modified=t.modified,this.version=t.version,this.type=t.type,this.sheet=t.sheet,this.steps=t.steps,this.primary=t.primary,this.secondary=t.secondary,this.secondary.domain&&this.secondary.domain[0]==Number.MAX_SAFE_INTEGER&&(this.secondary.domain=["auto","auto"]),this.lineStyle=t.lineStyle||{},this.points=t.points||!1,this.barStyle=t.barStyle||{},this.tableStyle=t.tableStyle||{},this.error=t.error,this.maxSeries=t.maxSeries,this.comparison=t.comparison,this.showLegend=void 0===t.showLegend||t.showLegend,this.snowflakeRequestId=t.snowflakeRequestId}}},713272:function(e,t,r){r.d(t,{k:()=>i});var s=r(561843),n=r(852139);class i extends n.H{isOlderThan(e){return!!e.modified&&this.modified<e.modified}constructor(e,t={}){super(e,t),void 0==t.modified&&s.cM.error("DBSchemaModel data has undefined modified date"),this.modified=new Date(t.modified),void 0==t.lastUpdated&&s.cM.error("DBSchemaModel data has undefined lastUpdated date"),this.lastUpdated=new Date(t.lastUpdated),this.loading=t.loading,this.tables=null==t?void 0:t.tables,this.namespacesDetails=t.namespacesDetails,this.defaultNamespace=t.defaultNamespace}}},529416:function(e,t,r){r.d(t,{A:()=>o});var s=r(372437);function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}class o{get rows(){return this._rows}get cells(){return this._rows.reduce((e,t)=>e.concat(t.cells),[])}normalizedRows(e,t,r=!1){let s={};for(let t of e)s[t.id]=!0;let o=[];for(let e of this._rows){let a=[];if(e.cells){for(let o of e.cells)if(s[o.pid]||null==o.pid){let e=o.pid,s=t?`${e}:${t}`:e;a.push(i(n({},o),{pid:e,pidToLoad:s,staticEnter:r&&!!e}))}}o.push(i(n({},e),{cells:a}))}return o}normalizedCells(e,t){return this.normalizedRows(e,t).reduce((e,t)=>e.concat(t.cells),[])}get fingerprint(){return this._rows.map(e=>e.cells.map(e=>`${e.pid}:${e.version}`)).join("-")}getPlacedTiles(){return new s.c(this._rows)}hasPid(e,t){return!!this._rows.find(r=>r.cells.find(r=>r.pid===e&&(!t||r.displayMode===t)))}markAsRefreshing(){this._rows.forEach(e=>{e.cells.forEach(e=>{e.refreshing=!0})})}transform(e){e.forEach(({action:e,params:t})=>{let{pid:r,displayMode:s,chartId:n,rowIdx:i,cellIdx:o,row:a,cell:l,height:u}=t;switch(e){case"resizeRow":this._resizeRow(i,u);break;case"insertRow":this._insertRow(i,a);break;case"insertCell":this._insertCell(i,o,l);break;case"removeCell":this._removeCell(r,s,n)}this._rows=this._rows.filter(e=>e.cells.length>0)})}_resizeRow(e,t){this._rows[e]&&(this._rows[e].height=t)}_insertRow(e,t){t.cells.forEach(e=>this._removeCell(e.pid,e.displayMode,e.chartId)),this._rows.splice(e,0,i(n({},t),{height:2}))}_insertCell(e,t,r){this._removeCell(r.pid,r.displayMode,r.chartId),this._rows[e].cells.splice(t,0,r)}_removeCell(e,t,r){"number"==typeof r&&(r=String(r)),this._rows=this._rows.map(s=>(s.cells=s.cells.filter(s=>!(s.pid===e&&(!t||s.displayMode===t)&&(!r&&!s.chartId||r&&s.chartId===r))),s))}constructor(e){this._rows=e||[]}}},768693:function(e,t,r){r.d(t,{Z:()=>u});var s=r(485387),n=r.n(s),i=r(529416),o=r(884341),a=r(245827),l=r(169323);class u extends l.b{label(e,t=!0){return t?e({id:"Dashboard"}):e({id:"dashboard"})}markAsRefreshing(){this.refreshing=!0,this.dashboard.markAsRefreshing()}createAllowedOverrides(){return new o.y3({database:!0,schema:!0})}constructor(e,t){var r,s,o;super(e,(s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({},t),o=o={type:a.i0},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(o)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(o)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(o,e))}),s)),this.dashboard=new i.A(null===(r=this.settings.dashboard)||void 0===r?void 0:r.rows),this.runnable=t.runnable||!1,this.refreshed=t.refreshed?n()(t.refreshed).toDate():new Date,this.resultsViewable=t.resultsViewable||!1,this.isRefreshDead=t.isRefreshDead||!1}}},379002:function(e,t,r){r.d(t,{z:()=>l});var s=r(275441),n=r(645986),i=r(574745),o=r(158145),a=r(852139);class l extends a.H{shouldModelUpdate(e){return!1}toObject(){return JSON.parse(JSON.stringify(this))}isCreateProcedureEnabled(){switch(this.queryLanguage){case"java":case"javascript":case"python":case"scala":return!0;default:return!1}}update({query:e=this.query,queryLanguage:t=this.queryLanguage,queryLanguageConfig:r=this.queryLanguageConfig,queryRange:s=this.queryRange,executionContext:i=this.executionContext,paramRefs:a=this.paramRefs,modifiedTime:l=this.modifiedTime}){this.query=e,this.queryLanguage=t,this.queryLanguageConfig=r,this.queryRange=s,this.modifiedTime=l,this.executionContext=new o.f(i),this.paramRefs=(a||[]).map(n.NV.fromObject)}getModelStoreIndexableByUUID(){return this.id}clone(e){var t,r;return new l(e,(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({},this),r=r={modifiedTime:this.modifiedTime||void 0,queryLanguageConfig:this.queryLanguageConfig||void 0,queryRange:this.queryRange||void 0,executionContext:this.executionContext||void 0},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t))}get defaultQuery(){var e;return i.o[null!==(e=null===this||void 0===this?void 0:this.queryLanguage)&&void 0!==e?e:""]||""}get isEmpty(){return!(this.query||"").trim()}get isTooLong(){return this.query.length>s.gT.QUERY_MAX_DRAFT_LENGTH}get excessDraftLength(){return Math.max(this.query.length-s.gT.QUERY_MAX_DRAFT_LENGTH,0)}constructor(e,t={}){var r;super(e,t),this.version=t.version||void 0,this.modifiedTime=t.modifiedTime?new Date(t.modifiedTime):null,this.queryLanguage=t.queryLanguage||"sql",this.query=null!==(r=t.query)&&void 0!==r?r:this.defaultQuery,this.queryLanguageConfig=t.queryLanguageConfig||null,this.queryRange=t.queryRange||null,this.paramRefs=(t.paramRefs||[]).map(n.NV.fromObject),this.executionContext=new o.f(t.executionContext),this.appSessionId=t.appSessionId||0}}},850364:function(e,t,r){r.d(t,{F:()=>i});var s=r(561843),n=r(169323);class i extends n.b{constructor(e,t){super(e,t),s.cM.error("FolderModel with type "+t.type+" created")}}},245827:function(e,t,r){r.d(t,{E8:()=>i,i0:()=>s,pD:()=>n});let s="dashboard",n="list",i="color1"},940374:function(e,t,r){r.d(t,{Z:()=>i});var s=r(245827),n=r(169323);class i extends n.b{constructor(e,t){var r,n;super(e,(r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({},t),n=n={type:s.pD},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(n)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}),r))}}},169323:function(e,t,r){r.d(t,{b:()=>d});var s=r(428522),n=r(275441),i=r(645986),o=r(106168),a=r(884341),l=r(158145),u=r(245827),c=r(32441);class d extends o.s{createAllowedOverrides(){return new a.y3({warehouse:!0,database:!0,schema:!0})}get isUnsaved(){return!!this.unsavedKey}get settings(){return this._settings}get executionContext(){return this._executionContext}get color(){return s.Il.Blue50}get colorId(){return this.settings.color||u.E8}markAsRefreshing(){this.refreshing=!0}constructor(e,t){super(e,t),this.unsavedKey=(0,c.t)(this.id),this.originalId=(0,c.p)(this.id),this.visibility=t.visibility||n.gT.FOLDER_DEFAULT_VISIBILITY,this.modified=t.modified?new Date(t.modified):void 0,this.members=t.members||[],this.isImported=t.isImported||!1,this._executionContext=new l.f(t.executionContext||{}),this.refreshing=!!t.refreshing;let r=[];r=this.unsavedKey&&t.settings&&t.settings.unsavedParams?t.settings.unsavedParams[this.unsavedKey]||[]:t.paramRefs||[],this.paramRefs=r.map(i.NV.fromObject),this._settings=t.settings||{},this.allowedOverrides=this.createAllowedOverrides()}}},86925:function(e,t,r){function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}function n(e){return[...e].map(e=>JSON.parse(e))}function i(e){return function e(t){if("number"==typeof t)return t.toString();if("object"!=typeof t||null===t)return JSON.stringify(t);if(Array.isArray(t)){let r=[];for(let s=0;s<t.length;s++){let n=e(t[s])||JSON.stringify(null);r.push(n)}return`[${r.join(",")}]`}{let r=Object.keys(t).sort(),s=[];for(let n=0;n<r.length;n++){let i=r[n];s.push(`${JSON.stringify(i)}:${e(t[i])}`)}return`{${s.join(",")}}`}}(function(e){var t,r;let n=s({},e.secId);return Object.keys(n).forEach(e=>!n[e]&&delete n[e]),t=s({},e),r=r={secId:n},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t}(e))}r.d(t,{v:()=>n,z:()=>i})},372437:function(e,t,r){r.d(t,{c:()=>s});class s{tileId(e,t,r){return`${e}-${t}-${r}`}isTablePlaced(e){return!!this._tiles[this.tileId(e.id,"table","")]}isChartPlaced(e,t){var r;let s="";return t.id!==(null===(r=e.chartInfos[0])||void 0===r?void 0:r.id)&&(s=String(t.id)),!!this._tiles[this.tileId(e.id,"chart",s)]}allTilesPlaced(e){for(let t of e){if(!this.isTablePlaced(t))return!1;for(let e of t.chartInfos)if(!this.isChartPlaced(t,e))return!1}return!0}constructor(e){let t={};for(let r of e)for(let e of r.cells)t[this.tileId(e.pid,e.displayMode,e.chartId||"")]=!0;this._tiles=t}}},895399:function(e,t,r){r.d(t,{X:()=>n});var s=r(852139);class n extends s.H{constructor(e,t){super(e,t),this.pids=t.pids||[]}}},761380:function(e,t,r){r.d(t,{a:()=>n});var s=r(852139);class n extends s.H{constructor(e,t={}){super(e,t),this.schemaCards=t.schemaCards||{}}}},209232:function(e,t,r){r.d(t,{L:()=>h});var s=r(209059),n=r(420939),i=r(263356),o=r(18259),a=r(532480),l=r(255670),u=r(852139),c=r(346825),d=r(560989);class h extends u.H{snapshot(){return{version:this.version,sheet:this._unprocessedSheet,processedSheet:this.sheet,ready:this.ready,canceled:this.canceled,populated:this.populated,cappedRows:this.cappedRows,error:this.error,rewritten:this.rewritten,modified:this.modified,processingPromise:this.processingPromise,snowflakeRequestId:this.snowflakeRequestId,snowflakeQueryId:this.snowflakeQueryId}}getModelStoreIndexableId(){return this.version?`${(0,l.d)(this.id)}@${this.version}`:(0,l.d)(this.id)}getModelStoreIndexableByUUID(){return -1!==this.id.indexOf(":")?this.id:this.snowflakeRequestId?`${(0,l.d)(this.id)}##${this.snowflakeRequestId}`:this.id}castStatsToBigNumberMutates(e){return e&&e.cols&&Object.values(e.cols).map(e=>{var t,r;(null===(t=e.stats)||void 0===t?void 0:t.total)!=void 0&&(e.stats.total=new o.Z(e.stats.total)),(null===(r=e.stats)||void 0===r?void 0:r.histogram)&&(e.stats.histogram.range=e.stats.histogram.range.map(e=>new o.Z(e)),e.stats.histogram.interval=new o.Z(e.stats.histogram.interval))}),e}isExactMatch(e){let[t,r]=e.split("@"),s=(0,l.d)(this.id);return!!this.version&&s===t&&this.version===parseInt(r,10)}get hasStats(){return this.sheet&&(1==i.J.totalRows(this.sheet)||i.J.isStatsSheet(this.sheet))}get awaitingStats(){return this.populated&&!this.ready&&!this.error&&!i.J.isSheetResultTooLargeForStatsOrSearch(this._unprocessedSheet)}clone(){return new h(this.id,this.snapshot())}cloneAsUnversioned(){var e,t;return new h(this.id,(e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({},this.snapshot()),t=t={version:void 0},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e))}cloneWithNewRequestId(e){return new h(this.id,{sheet:this._unprocessedSheet,processedSheet:this.sheet,version:void 0,snowflakeQueryId:void 0,snowflakeRequestId:e})}setAsCanceled(){this.canceled=!0,this._unprocessedSheet=null,this.sheet=null}isOlderThan(e){return!!this.modified&&!!e.modified&&this.modified<e.modified}async processSheet(e={generateTypesOnly:!1}){if(this.sheet)return;let t=(0,l.d)(this.id);if(this.error){let e=performance.timeOrigin+performance.now();(0,a.At)(t,{statsStartTime:e,statsEndTime:e},!1)}let r=this._unprocessedSheet;if(r){if(r.requiredRoles){this.sheet=r;return}if(i.J.isEmptySheet(r)||i.J.isValidSheetWithNoData(r)){void 0!==r.rows&&null!==r.rows&&(this.sheet=await p(r));return}!this.ready||i.J.isPartialSheet(r)||i.J.isStatsSheet(r)?r=await p(r):e.generateTypesOnly?r=await p(r):((0,a.At)(t,{statsStartTime:performance.timeOrigin+performance.now()},!1),r=await f(r),(0,a.At)(t,{statsEndTime:performance.timeOrigin+performance.now()})),this.sheet=r}}async refreshSheetWithStats(){var e;if(!(!this.sheet||(null===(e=this.sheet)||void 0===e?void 0:e.requiredRoles)||i.J.isEmptySheet(this.sheet)||i.J.isValidSheetWithNoData(this.sheet))&&this.ready&&!i.J.isPartialSheet(this.sheet)&&!i.J.isStatsSheet(this.sheet)){let e;let t=(0,l.d)(this.id);(0,a.At)(t,{statsStartTime:performance.timeOrigin+performance.now()},!1),e=i.J.isTypedSheet(this.sheet)?await f(this.sheet,{shouldUpdateWidths:!1}):await f(this.sheet),this.sheet=e,(0,a.At)(t,{statsEndTime:performance.timeOrigin+performance.now()})}}constructor(e,t={}){super(e,t),this.version=t.version,this._unprocessedSheet=t.skipStatsCasting?t.sheet:this.castStatsToBigNumberMutates(t.sheet),this.sheet=t.processedSheet,this.ready=t.ready,this.canceled=t.canceled,this.populated=t.populated,this.cappedRows=t.cappedRows,this.error=t.error,this.rewritten=t.rewritten,this.modified=t.modified?new Date(t.modified):void 0,this.processingPromise=t.processingPromise,this.snowflakeRequestId=t.snowflakeRequestId,this.snowflakeQueryId=t.snowflakeQueryId}}async function f(e,t={shouldUpdateWidths:!0}){let{shouldUpdateWidths:r}=t;return e=await (0,n.ey)(e,s.k.get(),void 0,void 0,r),(0,d.J)(e)}async function p(e){return i.J.isTypedSheet(e)||(e=await (0,c.k)(e,s.k.get())),(0,d.J)(e)}},13409:function(e,t,r){r.d(t,{T:()=>o});var s=r(885949),n=r(158145),i=r(852139);class o extends i.H{get initials(){return this.name?this.name.split(" ").map(e=>e[0]).join("").replace(/\s+/,"").toUpperCase():""}constructor(e,t){var r;super(e||"UNCREATED_USER_ID",t),this.email=t.email||"",this.name=t.name?t.name:t.username,this.firstName=t.firstName||"",this.lastName=t.lastName||"",this.canModifyParameters=t.canModifyParameters||!1,this.modifyParameterRoles=t.modifyParameterRoles||[],this.username=t.username,this.avatar=t.avatar||"",this.defaultOrgId=t.defaultOrgId||"",this.settings=t.settings||{},this.lastUsedQueryContext=new n.f(this.settings.lastUsedQueryContext),this.hasAdminRole=!!t.hasAdminRole,this.hasAccountAdminRole=!!t.hasAccountAdminRole,this.hasOrgAdminRole=!!(null===(r=t.availableRoles)||void 0===r?void 0:r.includes(s.rJ)),this.availableRoles=t.availableRoles||[],this.exchangeRoles=t.exchangeRoles||[],this.grantedRoles=t.grantedRoles||[]}}},944372:function(e,t,r){r.d(t,{s:()=>o});var s=r(275441),n=r(106168),i=r(245827);class o extends n.s{label(e){return e({id:"Dashboards"})}constructor(e,t){super(s.gT.DASHBOARDS_FOLDER_ID,{name:"Dashboards",orgId:e.id,ownerId:t,type:i.pD,url:`${e.appPath}/dashboards`,virtual:!0,editable:!0})}}},302405:function(e,t,r){r.d(t,{e:()=>o});var s=r(275441),n=r(106168),i=r(245827);class o extends n.s{label(e){return e({id:"Worksheets"})}constructor(e,t){super(s.gT.QUERIES_FOLDER_ID,{name:"Worksheets",orgId:e.id,ownerId:t,type:i.pD,url:`${e.appPath}/worksheets`,virtual:!0,editable:!0})}}},409332:function(e,t,r){r.d(t,{e:()=>n});var s=r(852139);class n extends s.H{constructor(e,t){super(e,t),this.name=t.name,this.state=t.state,this.type=t.type,this.size=t.size,this.minClusterCount=parseInt(t.min_cluster_count),this.maxClusterCount=parseInt(t.max_cluster_count),this.startedClusters=parseInt(t.started_clusters),this.running=parseInt(t.running),this.queued=parseInt(t.queued),this.isDefault="Y"===t.is_default,this.isCurrent="Y"===t.is_current,this.autoSuspend=parseInt(t.auto_suspend),this.autoResume="false"!=t.auto_resume.toLowerCase(),this.available=parseInt(t.available)||0,this.provisioning=parseInt(t.provisioning)||0,this.quiescing=parseInt(t.quiescing)||0,this.other=parseInt(t.other)||0,this.createdOn=Date.parse(t.created_on),this.resumedOn=Date.parse(t.resumed_on),this.updatedOn=Date.parse(t.updated_on),this.owner=t.owner,this.comment=t.comment,this.scalingPolicy=t.scaling_policy}}},837357:function(e,t,r){r.d(t,{F:()=>n});var s=r(852139);class n extends s.H{isOlderThan(e){return this.modified<e.modified}constructor(e,t){super(e,t),this.folderId=t.id,this.modified=new Date(t.modified).getTime(),this.userId=t.userId,this.orgId=t.orgId,this.totalWorksheets=t.totalWorksheets,this.loading=t.loading,this.numOfSuccessfulWs=t.numOfSuccessfulWs,this.failedWorksheets=t.failedWorksheets||[]}}},645489:function(e,t,r){r.d(t,{h:()=>a});var s=r(768693),n=r(850364),i=r(245827),o=r(940374);function a(e,t){switch(t.type){case i.i0:return new s.Z(e,t);case i.pD:return new o.Z(e,t);default:return new n.F(e,t)}}},346825:function(e,t,r){r.d(t,{k:()=>a});var s=r(233171),n=r(964906),i=r(420939),o=r(490696);async function a(e,t,r){let a=new o.k(e,r,{detectors:[new n.f,new s.n],includeBlankRows:!0}),l=await a.rowStream({shouldNormalizeRows:!1}),u=new o.v(null,t,{generateStats:!1,keepStats:!0}),c=await u.writeStream(l,-1,!0);return c.totalRows=e.totalRows,c.sortable=e.sortable,c.sortableBytesLimit=e.sortableBytesLimit,c=(0,i.ku)(c)}},560989:function(e,t,r){r.d(t,{J:()=>a});var s=r(268811),n=r(420939),i=r(527997),o=r(891772);function a(e){return e&&e.maxRow&&e.maxRow>0&&(e=s.g.generateSheetTypes(e),(e=(0,n.ku)(e)).styles&&o.r.processStyles(e.styles),e.colNames=i.e.ColNames.fromSheet(e),e.properties&&(e.properties.xSplit=1)),e}},287330:function(e,t,r){r.d(t,{Q:()=>i});var s=r(750129),n=r(769062);class i{list(){return Object.values(this._models)}get(e){return!e||e&&"string"!=typeof e?this._models[e]:this.getByVersion(e)}getByVersion(e){return -1===e.indexOf("@")?this._models[e]:this.list().find(t=>t.isExactMatch(e))||this._models[e]}insert(...e){e.forEach(e=>{this.insertById(e)})}insertById(e){let t=this._models[e.id],r=null==t?void 0:t.getModelStoreIndexableId(),s=e.getModelStoreIndexableId();r&&s&&r!==s&&(this._models[r]=t),this._models[e.id]=e}receive(e,t){if(!t)return!1;let r=this.get(e);if(r&&!r.shouldModelUpdate(t)||r&&t.isOlderThan(r))return!1;let s=this._updatersById[e];if(null!=s)for(let e of s)e(t);return this.insert(t),t}remove(e){let t=this.get(e);t&&delete this._models[t.id]}addUpdater(e,t){let r=this._models[e];r&&t(r);let s=this._updatersById[e];s||(s=[],this._updatersById[e]=s),s.push(t)}removeUpdater(e,t){let r=this._updatersById[e];r.splice(r.indexOf(t),1)}constructor(e,t){this.identifier=e,this._models=t?(0,n.s)({},e,t):{},this._updatersById={},s.log.info(`Instantiating ${this.identifier}`)}}},847882:function(e,t,r){r.d(t,{E:()=>E});var s,n=r(561843),i=r(130780),o=r.n(i),a=r(637700),l=r(279937),u=r(915470),c=r(713272),d=r(379002),h=r(895399),f=r(807169),p=r(761380),g=r(209232),m=r(13409),y=r(944372),w=r(302405),v=r(409332),b=r(837357),S=r(645489),O=r(287330);class E{createVirtualFolders(e,t){this._virtualDashboardsRootFolder=new y.s(e,t),this._virtualWorksheetsRootFolder=new w.e(e,t)}virtualDashboardsRootFolder(){return this._virtualDashboardsRootFolder}virtualWorksheetsRootFolder(){return this._virtualWorksheetsRootFolder}create(e,t,r){let s=r;if("string"==typeof r)try{s=JSON.parse(r)}catch(e){n.cM.error(e)}switch(e){case this.charts2:return new u.B(t,s);case this.dbSchemas:return new c.k(t,s);case this.worksheetImports:return new b.F(t,s);case this.drafts:return new d.z(t,s);case this.folders:return(0,S.h)(t,s);case this.queries:return new f.e(t,s);case this.queryHistories:return new h.X(t,s);case this.queryPrefs:return new p.a(t,s);case this.queryResults:return new g.L(t,s);case this.users:return new m.T(t,s);case this.warehouses:return new v.e(t,s);default:return}}receive(e){if(e){let t={};if(this.reduxStore){let t=o()(e,["queries","queryResults","drafts"]);t&&this.reduxStore.dispatch((0,l.B)(structuredClone(t)))}Object.keys(e).forEach(r=>{t[r]=0,Object.keys(e[r]).forEach(s=>{let i=this[r],o=this.create(i,s,e[r][s]);o?(i.receive(s,o),++t[r]):n.cM.warn("ModelStore",`Unable to instantiate new model for ${r}/${s}`,e)})})}}constructor(e){this.reduxStore=e,this.charts2=new O.Q("ChartModel",e),this.dbSchemas=new O.Q("DBSchemaModel",e),this.worksheetImports=new O.Q("WorksheetImportsModel",e),this.drafts=new O.Q("DraftModel",e),this.folders=new O.Q("GenericListOrDashboardFolderModel",e),this.queries=new O.Q("QueryModel",e),this.queryHistories=new O.Q("QueryHistoryModel",e),this.queryPrefs=new O.Q("QueryPrefsModel",e),this.queryResults=new O.Q("QueryResultsModel",e),this.users=new O.Q("UserModel",e),this.warehouses=new O.Q("WarehouseModel",e)}}E=function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}([(0,a.ri)(),(s=(0,a.f3)("False"),function(e,t){s(e,t,0)})],E)},142079:function(e,t,r){r.d(t,{mX:()=>n});var s=r(658379);let n=(0,s.createAction)("shadowObjectSet");(0,s.createAction)("shadowObjectPropSet"),(0,s.createAction)("shadowObjectMapSet")},478347:function(e,t,r){r.d(t,{B:()=>s});let s=/^\/(.*?)(?:\/(.*?))?(?:\/(.*?))?(?:\/(.*?))?$/u},556989:function(e,t,r){r.d(t,{j:()=>s});let s=/^([0-9a-z]*[\w-]*-)?(w[0-9a-zA-Z]+(?::[^@]+)?(?:@[0-9]+)?)$/u},585452:function(e,t,r){r.d(t,{l:()=>h});var s=r(544312),n=r(478347),i=r(556989);function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}let a=e=>{let[t,r,s,o,a]=e.match(n.B);return o&&i.j.test(o)},l=(e,t)=>""===t||a(e),u=e=>""===e||-1===e.indexOf("?"),c=(e,t)=>!e.endsWith("/")&&t.startsWith("#/")?`${e}/`:e,d=e=>new Proxy(o({},e),{get(e,t){let{pathname:r,hash:s,search:n}=e;if("pathname"===t){if(l(r,s))return r;let e=s.indexOf("?"),t=-1===e?s.length:e,n=c(r,s);return`${n}${decodeURI(s.slice(2,t))}`}if("hash"===t)return s;if("search"===t){if(u(s))return n;let e=s.indexOf("?");return s.slice(e)}return Reflect.get(e,t)}}),h=new Proxy(s.l,{get:(e,t)=>"location"===t?d(e.location):"listen"===t?t=>e.listen(e=>{var r,s;return t((r=o({},e),s=s={location:d(e.location)},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(s)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(s,e))}),r))}):Reflect.get(e,t)})},491056:function(e,t,r){r.d(t,{w:()=>u});var s=r(818531),n=r(251233),i=r(637700);function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}function a(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function l(e,t){return function(r,s){t(r,s,e)}}class u{async post(e,t,r,n){let i;let l={};return(null==r?void 0:r.isJsonBody)?(l["Content-Type"]="application/json",i=JSON.stringify(t)):t instanceof FormData?i=t:t&&(i=s.nZ(t)),(null==r?void 0:r.keepAlive)===!1&&(l["x-snowflake-keep-alive"]=!1),await this.net.nufetchForm(e,this.getRequestContext(),a(o({},n),{method:"POST",body:i,headers:o({},(null==r?void 0:r.overrideDefaultHeaders)?o({},this.defaultHeaders(),null==n?void 0:n.headers):o({},null==n?void 0:n.headers,this.defaultHeaders()),l)}),null==r?void 0:r.versionPrefix)}defaultHeaders(){return{"X-Snowflake-Request-Id":this.getRequestContext().requestId||n.Z()}}async get(e,t,r,n){let i=e,l={};if((null==r?void 0:r.keepAlive)===!1&&(l["x-snowflake-keep-alive"]=!1),t){let e=s.nZ(t);e.length>0&&(i+=`?${e}`)}return await this.net.nufetch(i,this.getRequestContext(),a(o({},n),{headers:o({},null==n?void 0:n.headers,this.defaultHeaders(),l)}),null==r?void 0:r.versionPrefix)}delete(e,t){return this.net.nufetchForm(e,this.getRequestContext(),a(o({},t),{method:"DELETE"}))}constructor(e,t){this.net=e,this.getRequestContext=t}}u=function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}([(0,i.ri)(),l(0,(0,i.f3)("Net")),l(1,(0,i.f3)("getRequestContext"))],u)},37491:function(e,t,r){r.d(t,{s:()=>s});class s{get getDatadogRum(){throw Error("not implemented")}get roleResolver(){throw Error("not implemented")}get featureFlags(){throw Error("not implemented")}get v1toV0QueriesAdapter(){throw Error("not implemented")}get getUUIDv4(){throw Error("not implemented")}get logger(){throw Error("not implemented")}}},904578:function(e,t,r){r.d(t,{BT:()=>i,MT:()=>n,RL:()=>o,fr:()=>s});let s="UI_ENABLE_UI_PLATFORM_FEATURE_40",n="UI_ENABLE_UI_PLATFORM_FEATURE_41",i="UI_ENABLE_UI_PLATFORM_FEATURE_44",o="UI_ENABLE_UI_PLATFORM_FEATURE_13"},189365:function(e,t,r){r.d(t,{A:()=>y});var s=r(16805),n=r.n(s),i=r(96012),o=r(888541),a=r(421639),l=r(766046),u=r(599958),c=r(970438);let d=e=>{let t=null,r=null,s=null,n=null,a=null;if(e&&(a=(0,o.e)(e)),e instanceof i.M){var l,u,c;n=e.statusCode,t=null!==(l=e.code)&&void 0!==l?l:null,r=null!==(u=e.message)&&void 0!==u?u:null,s=null!==(c=e.externalErrorCause.type)&&void 0!==c?c:null}else if(e instanceof Error)r=e.message,s="unknown";else if(e&&"object"==typeof e)try{r=JSON.stringify(e),s="unknown"}catch(e){}else"string"==typeof e&&(r=e,s="unknown");return{errorType:s,errorCode:t,errorMessage:r,errorStatusCode:n,looksLikeNetworkError:a}},h=e=>0===e.rows.length?[]:1===e.rows.length?[0]:[0,Math.floor(e.rows.length/2),e.rows.length-1],f=(e,t)=>e&&t?e.rows.length===t.rows.length:null,p=(e,t,r,s)=>{if(!r||!s)return null;if(r.rows.length!==s.rows.length)return{isMatch:!1,mismatchedColumns:null};if(!(0,c.N)(r))return null;let n=h(r),i=r.metadata.cellTransformations,o=new Set,{matchSoFar:a,compared:l}=n.reduce((n,a)=>{if(!n.matchSoFar)return{matchSoFar:n.matchSoFar,compared:n.compared};let l=r.rows[a],u=s.rows[a];if(!l||!u)throw Error("unable to obtain rows for comparison");let c=!0,d=!1;for(let r=0;r<i.length;r++)i[r]||(c=l[r]===u[r],d=!0,c||(o.add(r),t.info("instrumentSqlPassthrough",`failed cell match for ${e}`,{"row index":a,"cell index":r,"cell transforms for the row":i,"result row compared":l,"initial/basis result row compared":u,"result cell value in question":l[r],"initial/basis cell value in question":u[r]})));return{matchSoFar:c,compared:d}},{matchSoFar:!0,compared:!1});return l?{isMatch:a,mismatchedColumns:o}:null},g=(e,t)=>{if(!e||!t)return null;if(e.cols.length!==t.cols.length)return!1;for(let r=0;r<e.cols.length;r++)if(e.cols[r].name!==t.cols[r].name||e.cols[r].type!==t.cols[r].type)return!1;return!0},m=e=>{if(e&&(0,c.N)(e)){let{audit:t}=e.metadata;return{numberOfChunks:t.numberOfChunks,totalResults:t.totalResults,pollTicks:t.polling.numOfTicks,pollDuration:t.polling.durationMS,fetchedAdditionalRows:t.additionalFetch.fetchedAdditional,fetchedAdditionalDuration:t.additionalFetch.durationMS,resultLackedFirstChunk:t.additionalFetch.neededFirstChunk,streamRowStart:t.additionalFetch.rowStart,streamRowEnd:t.additionalFetch.rowEnd}}return{}},y=e=>{var t,r,s,i,o,c,h,y,w,v,b,S,O,E,P,T,R,_,I,A,C,k,x,j,U,N,D,L;let{logger:F}=e,q=n()(u.H),M=q(e.sqlQuery)?e.sqlQuery.desc:null!==(r=null===(t=e.sqlQuery.options)||void 0===t?void 0:t.desc)&&void 0!==r?r:"unknown",{errorType:B,errorCode:W,errorMessage:V,errorStatusCode:G,looksLikeNetworkError:H}=d(e.error),$=g(e.result,e.shadowedResult),Q=f(e.result,e.shadowedResult),z=p(M,F,e.result,e.shadowedResult);(!1===$||!0===$)&&F.info("instrumentSqlPassthrough",`columns comparison for ${M}`,{"columns isomorphic?":$}),null!=z&&F.info("instrumentSqlPassthrough",`rows comparison for ${M}`,{"rows isomorphic?":z});let X=e.shadowedResult?null:(0,l.G)(e.sqlQuery),J=d(e.shadowedError);try{let t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({initiator:e.initiator,version:e.version,desc:M,queryHash:q(e.sqlQuery)?(0,a.W)(e.sqlQuery.sqlQuery.sqlText):(0,a.W)(e.sqlQuery.query.sqlText),readonlyQuery:X,shadowModeId:e.shadowModeId,isGuestFetch:e.isGuestFetch,duration:e.end-e.start,noOfColumns:null!==(R=null===(i=e.result)||void 0===i?void 0:null===(s=i.cols)||void 0===s?void 0:s.length)&&void 0!==R?R:null,noOfRows:null!==(_=null===(c=e.result)||void 0===c?void 0:null===(o=c.rows)||void 0===o?void 0:o.length)&&void 0!==_?_:null,totalRows:null!==(I=null===(h=e.result)||void 0===h?void 0:h.totalRows)&&void 0!==I?I:null,requestId:q(e.sqlQuery)?null!==(A=e.sqlQuery.requestId)&&void 0!==A?A:null:null!==(C=null===(y=e.sqlQuery.options)||void 0===y?void 0:y.requestId)&&void 0!==C?C:null,keepAlive:q(e.sqlQuery)?null:null!==(k=null===(w=e.sqlQuery.options)||void 0===w?void 0:w.keepAlive)&&void 0!==k?k:null,cacheToRefresh:q(e.sqlQuery)?null:null!==(x=null===(v=e.sqlQuery.options)||void 0===v?void 0:v.cacheToRefresh)&&void 0!==x?x:null,expectsTableResults:q(e.sqlQuery)?null:null!==(j=null===(b=e.sqlQuery.options)||void 0===b?void 0:b.expectsTableResults)&&void 0!==j?j:null,pid:q(e.sqlQuery)?null!==(U=e.sqlQuery.pid)&&void 0!==U?U:null:null!==(N=null===(S=e.sqlQuery.options)||void 0===S?void 0:S.pid)&&void 0!==N?N:null,suppliedSecondaryRoles:q(e.sqlQuery)?void 0!==e.sqlQuery.secondaryRoles:(null===(O=e.sqlQuery.options)||void 0===O?void 0:O.secondaryRoles)!==void 0,errorType:B,errorCode:W,errorMessage:V,errorStatusCode:G,looksLikeNetworkError:H,columnsComparison:$,noOfShadowedRows:null!==(D=null===(P=e.shadowedResult)||void 0===P?void 0:null===(E=P.rows)||void 0===E?void 0:E.length)&&void 0!==D?D:null,shadowedError:J.errorMessage,numberOfRowsComparison:Q,rowsComparison:null!==(L=null==z?void 0:z.isMatch)&&void 0!==L?L:null,mismatchedColumns:(null==z?void 0:null===(T=z.mismatchedColumns)||void 0===T?void 0:T.size)&&(null==z?void 0:z.mismatchedColumns.size)>0?Array.from(z.mismatchedColumns).join(", "):null},m(e.result));e.shadowedResult&&F.info("instrumentSqlPassthrough","data",t),e.datadog.addAction("sqlPassthrough",t)}catch(e){F.error(e)}}},578981:function(e,t,r){r.d(t,{u:()=>i});var s=r(599958);let n=["usage-consumption"],i=e=>(0,s.H)(e)?void 0===e.pid&&!n.includes(e.desc):void 0===e.pid&&void 0===e.cacheToRefresh&&(!e.desc||!n.includes(e.desc))},766046:function(e,t,r){r.d(t,{G:()=>i});var s=r(599958);let n=["notebook-reload-files","streamlit-reload-files"],i=e=>{var t,r;let i=(0,s.H)(e)?e.sqlQuery.sqlText.toLowerCase().trim():e.query.sqlText.toLowerCase().trim(),o=null!==(r=(0,s.H)(e)?e.desc:null===(t=e.options)||void 0===t?void 0:t.desc)&&void 0!==r?r:"";return(i.startsWith("select ")||i.startsWith("describe ")||i.startsWith("show "))&&!n.includes(o.toLowerCase())}},947509:function(e,t,r){r.d(t,{P:()=>u,k:()=>l});var s=r(250370),n=r.n(s),i=r(904578),o=r(766046),a=r(599958);let l=["show-warehouses","tag-entity-detail","show-table-in-schema","database_role-show-grants-of-obj","show-warehouse","show-terse-databases","show-terse-roles","schema-show-grants-on-obj","task-graph-status-current","task-graph-tasks-run-status","system-show-notebooks-in-account","notebook-describe","show-notebook-in-schema","user-show-grants-to-obj","user-describe","show-terse-schemas-in-database","show-tables","show-views","system-show-streamlits-in-account","show-objects-in-schema","show-streamlit-in-schema","view-describe","show-database","check-is-database-role-in-session","account-show-grants-on-obj","is-eligible-for-monetization","table-entity-detail","view-show-grants-on-obj","available-roles","show-databases","table-show-grants-on-obj","view-entity-detail","schema-entity-detail","table-get_ddl"].sort(),u=(e,t)=>{var r;if(e.isEnabled(i.BT))return(0,o.G)(t);let s=(0,a.H)(t)?t.desc:null===(r=t.options)||void 0===r?void 0:r.desc;return s&&-1!==n()(l,s)}},599958:function(e,t,r){r.d(t,{H:()=>n});let s=e=>null!=e&&"object"==typeof e&&"sqlText"in e&&"bindingsJSON"in e,n=e=>null!=e&&"object"==typeof e&&"sqlQuery"in e&&s(e.sqlQuery)&&"role"in e&&"isInternal"in e&&"desc"in e},970438:function(e,t,r){r.d(t,{N:()=>s});let s=e=>"metadata"in e&&"object"==typeof e.metadata&&null!==e.metadata&&"cellTransformations"in e.metadata&&"audit"in e.metadata},234948:function(e,t,r){r.d(t,{P:()=>s});let s=()=>{let e=n();return null==e?void 0:e._ga},n=()=>document.cookie.split("; ").reduce((e,t)=>{let[r,...s]=t.split("=");return e[r]=s.join("="),e},{})},488575:function(e,t,r){r.d(t,{Z:()=>u});var s=r(750129),n=r(80583),i=r(946570),o=r(38508),a=r(443789),l=r(227545);function u(e,t,r){let u=(0,a.mE)(e),d=!(0,a.bq)(e);if(r&&(!u.preventClientOverrides||(0,o.P)())){let t=(0,l.A7)()[e];if(null!=t)return t}if(d&&"boolean"==typeof t)return t;if("string"==typeof t){if(null==t?void 0:t.match(/enabled/iu))return!0;if(null==t?void 0:t.match(/disabled/iu))return!1;if(null==t?void 0:t.match(/^v:/iu))return function(e){try{if(void 0===n.X.clientVersion||"local"===n.X.clientVersion)return!1;let t=e.substring(2),r=n.X.clientVersion,[s,i]=c(t),[o,a]=c(r);return o>s||o===s&&a>=i}catch(t){(0,i.WC)()&&s.log.error(`Unable to compare currentBuild ${n.X.clientVersion} against minVersion ${e}.`)}return!1}(t)}return u.default}function c(e){var t;return[parseInt(e.split("-")[0],10),parseInt(null!==(t=e.split("-")[1])&&void 0!==t?t:"1",10)]}},227545:function(e,t,r){r.d(t,{A7:()=>n,B8:()=>o,Iy:()=>l,dy:()=>s,jy:()=>a,oF:()=>u,z4:()=>c});let s="snowflake-internal-client-overrides";function n(){let e=localStorage.getItem(s);return null==e?{}:JSON.parse(e)}function i(e){localStorage.setItem(s,JSON.stringify(e))}function o(e,t){let r=n();r[e]=t,i(r)}function a(){return Object.keys(n()).length>0}function l(){localStorage.removeItem(s)}function u(e,t){if(!t)return;let r=n();Object.keys(e).forEach(t=>{r[t]=e[t]}),i(r)}function c(){let e=new URLSearchParams(window.location.search).get("flags");if(null!=e){let t={};if(""===e)l();else{for(let r of e.split(","))0===r.indexOf("-")?t[r.substring(1)]=!1:t[r]=!0;u(t,!0)}let r=new URL(document.location.href),s=new URLSearchParams(r.search);s.delete("flags"),r.search=s.toString(),window.history.replaceState(null,"",r.toString())}}},550105:function(e,t,r){r.d(t,{U:()=>l,p:()=>a});var s=r(561843),n=r(80583);function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}e=r.hmd(e);let o="Snowflake";class a{bind(t,r={},s=!1){Object.assign(this,r);let n=e=>Object.assign(this,t(e));if(!this.hasOwnProperty("__setter")||void 0===this.__setter||s)Object.defineProperty(this,"__setter",{value:n,configurable:!0});else{if(e.hot)return Object.defineProperty(this,"__setter",{value:n,configurable:!0}),n;throw Error("Cannot rebind the __setter of PageStateCls")}return n}set(e){this.__setter(e)}setModal(e,t){var r;let s=null==t.dismissable||!!t.dismissable,n=!!t.allowShortcuts,o=!!t.downToEarth;t=i({dismissable:s,allowShortcuts:n,downToEarth:o},t),(null===(r=this.popover)||void 0===r?void 0:r.dismiss)&&this.popover.dismiss(),this.set({modal:i({elClass:e,props:t},{dismissable:s,allowShortcuts:n,downToEarth:o}),popover:null})}toggleModal(e,t){null==this.modal||this.modal.elClass!==e?this.setModal(e,t):this.hideModal()}updateModalFeatures({dismissable:e,allowShortcuts:t,downToEarth:r},s){this.modal&&(this.modal.oldFeatures={dismissable:this.modal.dismissable,allowShortcuts:this.modal.allowShortcuts,downToEarth:this.modal.downToEarth},this.modal.dismissable=e,this.modal.allowShortcuts=t,this.modal.downToEarth=r,s())}resetModalFeatures(e){var t;(null===(t=this.modal)||void 0===t?void 0:t.oldFeatures)&&(this.modal.dismissable=this.modal.oldFeatures.dismissable,this.modal.allowShortcuts=this.modal.oldFeatures.allowShortcuts,e())}hideModal(){var e;this.modal&&((null===(e=this.popover)||void 0===e?void 0:e.inModal)&&this.hidePopover(),this.set({modal:null}))}setPopover(e){this.set({popover:e})}hidePopover(){var e;(null===(e=this.popover)||void 0===e?void 0:e.dismiss)&&this.popover.dismiss(),this.set({popover:null})}concealPopover(){var e;(null===(e=this.popover)||void 0===e?void 0:e.conceal)&&this.popover.conceal()}movePopover(e,t){if(this.popover&&this.popover.type===e&&t){let e=this.popover.move(t);this.set({popover:e})}}hideTooltip(){(this.tooltip||this.tooltipTimeout)&&(clearInterval(this.tooltipTimeout),this.set({tooltip:null,tooltipTimeout:null}))}showDragLayer(e){this.set({dragLayer:e})}hideDragLayer(){this.dragLayer&&this.set({dragLayer:null})}logError(e){s.cM.error(e),this.setError(e)}setError(e){this.set({error:e})}track(e,t,r,s,i){var o;(null===n.X||void 0===n.X?void 0:null===(o=n.X.stores)||void 0===o?void 0:o.analytics)&&"function"==typeof n.X.stores.analytics.track&&n.X.stores.analytics.track(e,t,r,s,i)}changeDefaultTitle(e){o=e}setDefaultTitle(){this.setTitle(o)}setTitle(e){e!==document.title&&(document.title=e)}flashMessage(e){this.setError({message:e})}constructor(){for(let e in this)void 0!==this[e]&&Object.defineProperty(this,e,{value:this[e],writable:!1,enumerable:!1})}}let l=new a},488130:function(e,t,r){r.d(t,{P:()=>O});var s=r(818531),n=r(21202),i=r(792529),o=r(80583),a=r(637700),l=r(847882),u=r(189365),c=r(578981),d=r(947509),h=r(713332),f=r.n(h),p=r(946570),g=r(904578),m=r(392800);function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}function w(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r.push.apply(r,s)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function v(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r,s,n={},i=Object.keys(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function b(e,t){return function(r,s){t(r,s,e)}}let S=(e,t)=>{if(e)try{return e(t)}catch(e){}return t};class O{context(){return this.securableAPIContext}async get(e,t,r,s,n){let i=r?this.httpFactory(()=>r):this.backendHttp,o=await i.get(e,t,s,n),{models:a}=o,l=v(o,["models"]);return await this.modelReceiver.receive(a),l}async delete(e){let t=await this.backendHttp.delete(e),{models:r}=t,s=v(t,["models"]);return await this.modelReceiver.receive(r),s}async post({path:e,data:t,localUpdates:r=[],requestContext:s,options:n,requestOptions:i,track:o,mergeModels:a}){let l,u;let c="/queries"===e&&t&&"execute"===t.action&&o;for(let e of r)this.modelReceiver.addUpdater(e.model,e.id,e.updater);let d=s?this.httpFactory(()=>s):this.backendHttp;try{var h;let r=performance.now();if(c)try{o(m.Y8U,{request_id:t.snowflakeRequestId,data:{snowsightPid:t.projectId,queryLanguage:t.queryLanguage,clientOperationId:t.clientOperationId}},void 0,!0)}catch(e){}h=await d.post(e,t,n,i),l=v(h,["models"]),{models:u}=h;let s=performance.now()-r;if(c)try{o(m.EKB,{request_id:t.snowflakeRequestId,data:{snowsightPid:t.projectId,queryLanguage:t.queryLanguage,clientOperationId:t.clientOperationId,durationMs:s}},void 0,!0)}catch(e){}}finally{for(let e of r)this.modelReceiver.removeUpdater(e.model,e.id,e.updater)}let f=performance.now();if(c)try{o(m.EKd,{request_id:t.snowflakeRequestId,data:{snowsightPid:t.projectId,queryLanguage:t.queryLanguage,clientOperationId:t.clientOperationId}},void 0,!0)}catch(e){}await this.modelReceiver.receive(S(a,u));let p=performance.now()-f;if(c)try{o(m.R2O,{request_id:t.snowflakeRequestId,data:{snowsightPid:t.projectId,queryLanguage:t.queryLanguage,clientOperationId:t.clientOperationId,durationMs:p}},void 0,!0)}catch(e){}return l}async v1query(e,t,r=null,s){var n;let i,o,a;let l=null!==(n=t.requestId)&&void 0!==n?n:this.securableAPIContext.getUUIDv4(),c=w(y({},t),{requestId:l}),d=performance.now();try{i=await this.securableAPIContext.v1toV0QueriesAdapter.query(w(y({},e),{runToCompletion:!0}),c)}catch(e){o=e}finally{a=performance.now()}let h={version:1,initiator:"modelStoreAPI",isGuestFetch:!1,result:i,error:o,start:d,end:a,sqlQuery:{query:e,options:c},shadowModeId:r,datadog:this.securableAPIContext.getDatadogRum(),logger:this.securableAPIContext.logger};if(s&&(s.data&&(h.shadowedResult=s.data),s.error&&(h.shadowedError=s.error)),(0,u.A)(h),o)throw o;return i}async query(e,t){var r,s,a,l,h,m;let b,S,O;let{desc:E,context:P,keepAlive:T,requestId:R}=t,_=v(t,["desc","context","keepAlive","requestId"]),I=(!!(null===(s=o.X.stores)||void 0===s?void 0:null===(r=s.user)||void 0===r?void 0:r.isGuestUser)||!!(null===(a=t.requestContext)||void 0===a?void 0:a.isGuest))&&!(0,i.r)(window.location.hostname),A=null!==(l=t.requestContext)&&void 0!==l?l:this.urc.requestContext(),C=E?`?desc=${encodeURIComponent(E)}`:"",k=((0,p.WC)()||(0,p.mb)())&&!this.securableAPIContext.featureFlags.isEnabled(g.RL)||this.securableAPIContext.featureFlags.isEnabled(g.fr),x=(0,c.u)(t);if(k&&x&&!I)return this.v1query(e,t);let j=E&&P?`#${new URLSearchParams(P).toString()}`:"",U=performance.now();try{I?{result:b}=await this.get(`${n.A}`,y({},e),w(y({},A),{requestId:R}),{keepAlive:!!T}):{result:b}=await this.post({path:`${n.A}${C}${j}`,data:y({},e,_,I?{}:{requestId:R}),localUpdates:void 0,requestContext:w(y({},A),{requestId:R}),options:{keepAlive:T}})}catch(e){O=e}finally{S=performance.now()}let N=!I&&x&&this.securableAPIContext.featureFlags.isEnabled(g.MT)&&(0,d.P)(this.securableAPIContext.featureFlags,{query:e,options:t}),D=N?this.securableAPIContext.getUUIDv4():null;if((0,u.A)({version:0,initiator:"modelStoreAPI",isGuestFetch:I,result:b,error:O,start:U,end:S,sqlQuery:{query:e,options:t},shadowModeId:D,datadog:this.securableAPIContext.getDatadogRum(),logger:this.securableAPIContext.logger}),N){let r=w(y({},b),{cols:[...null!==(h=null==b?void 0:b.cols)&&void 0!==h?h:[]],rows:[...null!==(m=null==b?void 0:b.rows)&&void 0!==m?m:[]]});f()(()=>{this.v1query(e,w(y({},t),{requestId:this.securableAPIContext.getUUIDv4()}),D,{data:r,error:O})})}if(O)throw O;return b}async filesQuery(e,t){var r;let{desc:s,keepAlive:i}=t,o=v(t,["desc","keepAlive"]),a=null!==(r=t.requestContext)&&void 0!==r?r:this.urc.requestContext(),l=s?`?desc=${encodeURIComponent(s)}`:"";return await this.post({path:n.x+l,data:y({},e,o),localUpdates:void 0,requestContext:w(y({},a),{requestId:t.requestId}),options:{keepAlive:i}})}async restPassthrough(e,t,r,n,a,l="/session"){var u,c,d;let h;let{desc:f,role:p,isJsonBody:g,keepAlive:m,requestId:b}=r,S=v(r,["desc","role","isJsonBody","keepAlive","requestId"]),O=null!==(d=r.requestContext)&&void 0!==d?d:this.urc.requestContext(),E=(!!(null===(c=o.X.stores)||void 0===c?void 0:null===(u=c.user)||void 0===u?void 0:u.isGuestUser)||!!O.isGuest)&&!(0,i.r)(window.location.hostname);switch(e){case"POST":{let e=s.nZ(y({desc:f},a));h=await this.post({path:`${l}${t}${e}`,data:y({},n,S,E?{}:{requestId:b}),localUpdates:void 0,requestContext:w(y({},O),{requestId:b,role:p}),options:{isJsonBody:g,keepAlive:m}});break}case"GET":h=await this.get(`${l}${t}`,y({requestId:r.requestId,desc:f},a),w(y({},O),{requestId:b,role:p}),{keepAlive:!!m});break;default:throw Error(`Unsupported rest passthrough type ${e}`)}return h}requestContext(e){return this.urc.requestContext(e)}constructor(e,t,r,s,n){this.urc=e,this.models=t,this.httpFactory=r,this.modelReceiver=s,this.securableAPIContext=n,this.backendHttp=r(()=>e.requestContext())}}O=function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}([(0,a.ri)(),b(0,(0,a.f3)("UserRequestContext")),b(1,(0,a.f3)(l.E)),b(2,(0,a.f3)("BackendHttpFactory")),b(3,(0,a.f3)("ModelReceiver")),b(4,(0,a.f3)("InternalSecurableAPIContext"))],O)},182421:function(e,t,r){r.d(t,{n:()=>a,y:()=>l});var s=r(561843),n=r(407254),i=r.n(n),o=r(550105);class a{destruct(){this.log("DESTROYED")}async bindStores(e,t={}){this._stores=e,this.storesDidBind&&await this.storesDidBind(e,t)}__subscribe(e,t){this._events.addListener("change",e),this._events.addListener("afterChange",t),this._events.addListener("error",this.onError)}__unsubscribe(e,t){this._events.removeListener("change",e),this._events.removeListener("afterChange",t),this._events.removeListener("error",this.onError)}error(e){this._events.emit("error",e)}notify(e,t){this.log(e),this.track(`STORE_${e}`),this._events.emit("change",e,t),this._events.emit("afterChange",e,t)}track(e,t,r,s){this._stores&&this._stores.analytics.track(e,t,r,s)}log(e,t){let r=`stores.${this.constructor.STORE_ID}`,n=20-r.length;n>0&&(r+=" ".repeat(n)),s.cM.info(r,e,t)}constructor(e,t,r){this.reduxStore=t,this.isLasikEnabled=r,this.onError=(e,t)=>{s.cM.error(e,{message:t}),o.U.setError(t?Error(t):e)},this._events=new(i()),this._events.setMaxListeners(1024)}}class l extends a{constructor(e,t,r,s){super(t,r,s),this.api=e}}},5005:function(e,t,r){r.d(t,{O:()=>s});var s,n=r(916616),i=r.n(n);let o=["streamlitSidebarCollapsed","streamlitSidebarWidth","streamlitEditorCollapsed","streamlitAppCollapsed","streamlitAppWidthPercentage","worksheetsSidebarTab","worksheetsSidebarCollapsed","worksheetsSidebarWidth","worksheetsTreeOpenPaths","worksheetsTreeSort"];!function(e){async function t(e,t,r){s(e,t,r)&&await e.user.saveSettings()}async function r(e,t){let r=!1;for(let[n,i]of Object.entries(t))s(e,n,i)&&(r=!0);r&&await e.user.saveSettings()}function s(e,t,r){if(e.user.currentUser){let s=JSON.stringify(r);sessionStorage.setItem(t,s);let n=e.user.currentUser.settings[t];if(!i()(r,n))return e.user.currentUser.settings[t]=r,!0}return!1}e.load=function(e,t){var r,s,n,i;let o=null!==(n=JSON.parse(null!==(s=sessionStorage.getItem(t))&&void 0!==s?s:"null"))&&void 0!==n?n:void 0,a=null!==(i=null===(r=e.user.currentUser)||void 0===r?void 0:r.settings[t])&&void 0!==i?i:void 0;return void 0===o&&void 0!==a&&sessionStorage.setItem(t,JSON.stringify(a)),null!=o?o:a},e.save=t,e.saveAll=r,e.clearSession=function(){o.forEach(e=>sessionStorage.removeItem(e))}}(s||(s={}))},103485:function(e,t,r){r.d(t,{H:()=>a});var s=r(641419),n=r(392800),i=r(803748),o=r(377119);function a(e){if(void 0===e)return;let t=(0,i.g)(e,"implicit"),r=(0,i.g)(e,"explicit");(t||r)&&s.v.addAction(n.Sht,{hasAllOptionTypeImplicit:t,hasAllOptionTypeExplicit:r}),(0,o.e)(e)&&s.v.addAction(n.rGl)}},803748:function(e,t,r){r.d(t,{g:()=>s});let s=(e,t)=>void 0!==e.find(e=>{var r;return"allOptionType"in e.settings&&(null===(r=e.settings)||void 0===r?void 0:r.allOptionType)===t})},377119:function(e,t,r){r.d(t,{e:()=>s});let s=e=>void 0!==e.find(e=>{var t;return"hasOtherOption"in e.settings&&(null===(t=e.settings)||void 0===t?void 0:t.hasOtherOption)})},933377:function(e,t,r){r.d(t,{I:()=>s});let s=()=>!0},636235:function(e,t,r){r.d(t,{A:()=>i});var s=r(275441),n=r(795954);let i=()=>n.IL.services.featureFlags.isEnabled(s.gT.SNOWFLAKE_FEATURE_UI_ENABLE_BILLING_AND_TERMS_REFACTOR)},931878:function(e,t,r){r.d(t,{A:()=>w});var s,n=r(641419),i=r(33055),o=r.n(i),a=r(841334),l=r.n(a),u=r(251233),c=r(80583),d=r(637700),h=r(295591),f=r(585452),p=r(234948),g=r(488130),m=r(182421);function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}class w extends m.y{static isDisallowedDatadogEvent(e){return void 0!==e.type&&w.disallowedDatadogEventTypes.includes(e.type)}storesDidBind(e,t){let{pageType:r}=t;r&&this.track("PAGE_LOADED",{pageType:r})}updateActivePid(e){this.activePid=e}updateActiveFolder(e){var t,r;this.activeFolderId=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:null,this.activeFolderType=null!==(r=null==e?void 0:e.type)&&void 0!==r?r:""}setStreamlitQueue(e){this.streamlitQueue=e}getStreamlitQueue(){return this.streamlitQueue}get props(){let e={ua:window.navigator.userAgent,cv:c.X.clientVersion,url:{path:f.l.location.pathname,query:f.l.location.search,hash:f.l.location.hash},rf:document.referrer,ws:{w:window&&window.innerWidth||0,h:window&&window.innerHeight||0}};return this.activePid&&(e.pid=this.activePid),this.activeFolderId&&(e.folderId=this.activeFolderId,e.folderType=this.activeFolderType),e}track(e,t={},r=!0,s=!1){this.newTrack(y({event:e},t),r,s)}newTrack(e,t=!0,r=!1){let s=String(Date.now());e.timestamp=s,e.idempotencyToken=u.Z(),e.metadata={},e.metadata.__debugClientTimestamp=s;let n=this._stores.user.api.urc.getWindowId();n&&(e.windowId=n);let i=this._stores.user.isGuestUser&&(0,p.P)();i&&(e.guestUserCookie=i);let o=y({eventLog:e,checkFullDiff:r},!r&&{consolidateRepeats:t});this.emitEventToDatadog(e),this.queue.push(o),this.throttledCommit()}emitEventToDatadog(e){if(!w.isDisallowedDatadogEvent(e)){"ui_track_view"===e.type&&n.v.startView(e.event);try{let t;void 0!==e.data&&l()(e.data)?t=e.data:void 0!==e.data&&(t={value:e.data}),n.v.addAction(e.event,t)}catch(t){console.error("Unable to emit event: ",e.data)}}}async commit(e){if(c.T.notProvisioned){this.queue.length=0;return}e||(e=this.queue.splice(0,this.queue.length));let t=[],r={},s={};for(let n=0;n<e.length;n++){let{eventLog:i,consolidateRepeats:a,checkFullDiff:l}=e[n],{event:u}=i;if(a){if(null==r[u])r[u]=0,t.push(i);else{r[u]++;continue}}else if(l){if(!s[u]){s[u]=[{uniqueEvent:i,numRepeats:0}],t.push(i);continue}let e=!1;for(let t=0;t<s[u].length;t++){let r=s[u][t].uniqueEvent;if(o()(r,i)){s[u][t].numRepeats++,e=!0;break}}e||(s[u].push({uniqueEvent:i,numRepeats:0}),t.push(i))}else t.push(i)}for(let e=0;e<t.length;e++){let n=r[t[e].event];if("number"==typeof n){t[e].repeats=n;continue}let i=s[t[e].event];if(s&&i)for(let r of i)o()(r.uniqueEvent,t[e])&&r.numRepeats>0?t[e].repeats=r.numRepeats:t[e].repeats=0}if(t.length){this.log(`COMMIT (${t.length} events)`);try{await this.api.post({path:"/a/events",data:{events:t,props:this.props,now:new Date().toISOString()}})}catch(e){}}}setClientOperationId(e,t){this.clientOperationIds.set(e,null!=t?t:u.Z())}getClientOperationId(e){return this.clientOperationIds.get(e)}deleteClientOperationId(e){this.clientOperationIds.delete(e)}constructor(e){super(e,{}),this.queue=[],this.throttledCommit=h.P(this.commit.bind(this),3e4,{leading:!1}),this.activePid=null,this.activeFolderId=null,this.activeFolderType="",this.clientOperationIds=new Map,this.streamlitQueue=void 0}}w.STORE_ID="analytics",w.disallowedDatadogEventTypes=["ui_performance","ui_response_success","ui_scroll","ui_impression","ui_visit","ui_error","ui_response_error","ui_keyboard"],w=function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}([(0,d.ri)(),(s=(0,d.f3)(g.P),function(e,t){s(e,t,0)})],w)},573016:function(e,t,r){r.d(t,{s:()=>s});class s{async receive(e){}addUpdater(e,t,r){}removeUpdater(e,t,r){}}},886018:function(e,t,r){r.d(t,{U:()=>z});var s=r(641419),n=r(609737),i=r(275441),o=r(825734),a=r(561843),l=r(818531),u=r(498448),c=r(183805),d=r(466646),h=r(149562),f=r(769397),p=r(213041),g=r(155205),m=r(476335),y=r(80583),w=r(946570),v=r(312696),b=r(86925),S=r(847882),O=r(491056),E=r(443789),P=r(488575),T=r(550105),R=r(488130),_=r(182421),I=r(5005),A=r(573016),C=r(603112),k=r(51151),x=r(469264),j=r(279170),U=r(637700),N=r(993734),D=r(37491),L=r(103485),F=r(636235);function q(e,t,r){if(!t.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function M(e,t){var r=q(e,t,"get");return r.get?r.get.call(e):r.value}function B(e,t,r){!function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function W(e,t,r){var s=q(e,t,"set");return!function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=r}}(e,s,r),r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}function G(e,t){return function(r,s){t(r,s,e)}}let H={canSeeSessionsTab:!1,canSeeNotificationContacts:!1,canSeeNetworkPoliciesTab:!1,canSeeSnowflakeDataMarketplaceBilling:!1,canSeeAccountUsage:!1,canSeeOrgUsage:!1,canSeeBillingPage:!1,canSeeBillingAndPaymentsPage:!1,canSeeSecurityPage:!1,canCreateResourceMonitors:!1,canCreateAccounts:!1,canSeeDataGovernancePage:!1,canSeeSharingSettingPage:!1};var $=new WeakMap,Q=new WeakMap;class z extends _.y{storesDidBind(e,t){}get context(){return this.urc}get isGuestUser(){return!this.currentUser}get currentUser(){return this.userForId(this.currentUserId)}get dataExchangeEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_FEATURE_PRIVATE_DATA_EXCHANGE_ENABLED)||this.isSnowflakeFeatureEnabled("UI_ENABLE_PUBLIC_LISTINGS")||this.isSnowflakeFeatureEnabled("UI_ENABLE_PRIVATE_LISTINGS")}get isMultiClusterWarehousesSupported(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_MULTI_CLUSTER_WAREHOUSES)}get isSnowparkOptimizedEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.ALLOW_HIGH_MEMORY_WAREHOUSE)}get isBudgetFeatureEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_CG_BUDGET")}get dxHealthCheckEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_DX_HEALTH_CHECK")}get dxAdminUnpublishListingsForPDEEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_ENABLE_ADMIN_UNPUBLISH_LISTINGS_FOR_PRIVATE_DATA_EXCHANGE)}get navigationRules(){var e;let t=(null===(e=this.currentUser)||void 0===e?void 0:e.availableRoles)||[],r=V({},H);return this.hasSuperAccountAdminRole&&(r.canSeeDataGovernancePage=!0),this.hasSuperAccountAdminRole&&(r.canSeeAccountUsage=this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_CONSUMPTION_PAGE"),r.canSeeBillingPage=this.creditCardBillingEnabled,r.canSeeBillingAndPaymentsPage=(0,F.A)(),r.canSeeNotificationContacts=!0),this.hasSuperAccountAdminRole||t.includes("SECURITYADMIN")?(r.canSeeSessionsTab=!0,r.canSeeNetworkPoliciesTab=!0,r.canSeeSecurityPage=!0,r.canCreateResourceMonitors=!0):t.includes("SYSADMIN"),this.hasSuperOrgAdminRole&&(r.canSeeNotificationContacts=!0,r.canSeeSnowflakeDataMarketplaceBilling=this.dataExchangeEnabled,r.canCreateAccounts=!0,r.canSeeOrgUsage=this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_CONSUMPTION_PAGE")),(this.hasAdminRole||this.canModifyParameters)&&this.isFeatureEnabled(i.gT.LEGACY_SHARING_GRANDFATHERED)&&(r.canSeeSharingSettingPage=!0),r}get warehouseMaxSize(){return this.getSnowflakeParameterValue(i.gT.SNOWFLAKE_FEATURE_WAREHOUSE_MAX_SIZE,"string")||"4X-Large"}get regionlessRedirectEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_SNOWSIGHT_ENABLE_REGIONLESS_REDIRECT)}get privateListingPublishLimit(){return this.getSnowflakeParameterValue(i.gT.SNOWFLAKE_FEATURE_UI_PRIVATE_LISTING_PUBLISH_LIMIT,"number")}get schemaBrowserEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_AX_PUPR)}get replicationEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_ENABLE_ACCOUNT_DATABASE_REPLICATION)}get creditCardBillingEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.CREDIT_CARD_BILLING_ENABLED)}get lineOverlayChartsEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_APEX_FEATURE_1")}get keepTooltipsOnTopEnabled(){return this.isFeatureEnabled(i.gT.KEEP_TOOLTIP_ON_TOP_ENABLED)}get queryTextRoleEnabled(){return this.isFeatureEnabled(i.gT.QUERY_TEXT_ENTITY_MEMBER_ROLE)}get resultDownloadDisabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_DISABLE_DOWNLOAD)}get selfPasswordChangeDisabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_DISABLE_SELF_PASSWORD_CHANGE)}get supportEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_SUPPORT)}get supportForTrialAccountsEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_SUPPORT_FOR_TRIAL_ACCOUNTS)}get npsEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_NPS)}get learnEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_LEARN)}get inProductSearchEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_IN_PRODUCT_SEARCH)}get anacondaEnablementEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_ANACONDA_ENABLEMENT)}get cgTaggingEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_FEATURE_CG_TAGGING")}get streamlitInSnowflakeEnabled(){return this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_STREAMLIT_IN_SNOWFLAKE")}get getStartedPageV2Enabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_TRIAL_HOME_PAGE_V2)}get isLandingPageOverrideSetToSnowflake(){return this.getSnowflakeParameterValue(i.gT.SNOWFLAKE_FEATURE_UI_LANDING_PAGE_OVERRIDE,"string")===i.gT.UI_LANDING_PAGE_SNOWFLAKE_APP}get landingPageParam(){return this.getSnowflakeParameterValue(i.gT.SNOWFLAKE_FEATURE_UI_LANDING_PAGE,"string")}getSnowflakeParameterValue(e,t){let r=this.getSnowflakeParameterRawValue(e);return void 0===r?"string"===t?"":0:(typeof r!==t&&a.cM.error(Error(`APPS-9412: Unexpected type (${typeof r}) for parameter ${e}`)),r)}isFeatureEnabled(e){return this.currentUser&&this.currentUser.settings&&this.currentUser.settings.features&&!!this.currentUser.settings.features[e]||this._stores&&this._stores.organization.isFeatureEnabled(e)}isCanary(){return this.currentBeach()===j._p}areLocalOverridesAllowed(){return(0,w.mb)()||(0,w.WC)()||this.isCanary()}isSnowflakeFeatureEnabled(e){let t=this.getSnowflakeParameterRawValue(e);return!0===t||!1===t||void 0===t||a.cM.error(Error(`APPS-9412: Unexpected type (${typeof t}) for parameter ${e}`)),!!t}isUiSpecifiedSnowflakeFeatureEnabled(e){return(0,P.Z)(e,this.getSnowflakeParameterRawValue(e),this.areLocalOverridesAllowed())}uiSpecifiedSnowflakeFeatureNumber(e){return(0,E.Gd)(e,this.getSnowflakeParameterRawValue(e))}uiSpecifiedSnowflakeFeatureDate(e){return(0,E.DJ)(e,this.getSnowflakeParameterRawValue(e))}uiSpecifiedSnowflakeFeatureString(e){return(0,E.hm)(e,this.getSnowflakeParameterRawValue(e))}getSnowflakeParameterRawValue(e){var t,r,n;let i=null===(n=this.currentUser)||void 0===n?void 0:null===(r=n.settings)||void 0===r?void 0:null===(t=r.snowflakeFeatures)||void 0===t?void 0:t[e];if(this.parameters){let t=this.parameters[e];if(void 0!==t)return t;void 0===i||M(this,Q).has(e)||(M(this,Q).add(e),s.v.addAction("parameter-existence-mismatch",{featureName:e}))}return i}isSnowflakeFeatureDefined(e){return this.currentUser&&this.currentUser.settings&&this.currentUser.settings.snowflakeFeatures&&void 0!=this.currentUser.settings.snowflakeFeatures[e]}userForId(e){return this.api.models.users.get(e)}get hasAdminRole(){var e;return null===(e=this.currentUser)||void 0===e?void 0:e.hasAdminRole}get canModifyParameters(){var e;return null===(e=this.currentUser)||void 0===e?void 0:e.canModifyParameters}async saveSettings(){this.currentUser&&(this.notify("USER_SAVE_SETTINGS_STARTED"),await this.api.post({path:"/settings",data:this.currentUser.settings}),this.notify("USER_SAVE_SETTINGS_COMPLETED"))}async updateSettings(e){let t=new FormData;Object.keys(e).forEach(r=>{"avatar"===r?""===e[r].get("avatar")?t.append("clearAvatar",String(!0)):t.append(r,e[r].get("avatar")):"object"==typeof e[r]?t.append(r,JSON.stringify(e[r])):t.append(r,e[r])}),await this.api.post({path:"/settings",data:t}),this.notify("USER_UPDATE_SETTINGS_COMPLETED")}async sendValidationEmail(){await this.api.post({path:"/sendValidationEmail"}),this.notify("USER_EMAIL_VALIDATION_SENT")}async previewProfileImg(e){let t=new FormData;return t.append("avatar",e),(await d.nufetchForm("/avatarPreview",this.api.requestContext(),{method:"POST",body:t})).avatar}async signoutAccount(e){let t,r=!1;try{let s=await this.api.post({path:"/signout-account",data:{},localUpdates:[],requestContext:this.api.requestContext(e.userKey)});s.redirectURL&&(t=s.redirectURL),r=!0}catch(e){a.cM.error(e)}return{success:r,userKey:e.userKey,redirectURL:t}}async signout(){this.signoutInProgress=!0,this.notify("USER_SIGNOUT_STARTED");try{let e=await Promise.all(this.urc.accountsToLogout().map(e=>this.signoutAccount(e)));for(let t of(this.urc.completeLogout(),I.O.clearSession(),e))if(t.redirectURL){window.location.href=t.redirectURL;return}let t=e.filter(e=>!e.success).map(e=>e.userKey);if(t.length)throw Error(`signout failed for ${t.length} accounts (${JSON.stringify(t)})`);this.notify("USER_SIGNOUT_COMPLETE")}catch(e){a.cM.error(e),this.signoutInProgress=!1,this.notify("USER_SIGNOUT_FAILED")}}sortForVirtualFolder(e){var t;return((null===(t=this.currentUser)||void 0===t?void 0:t.settings.virtualFolderSorts)||{})[e]}async setVirtualFolderSort(e,t){this.currentUser&&(this.currentUser.settings.virtualFolderSorts[e]=t,await this.saveSettings())}userPinnedItems(){var e;return this.userPinnedItemsForStr(null===(e=this.currentUser)||void 0===e?void 0:e.settings.pinnedItems)}pinnedItemsStrSet(){return new Set(this.userPinnedItems().map(e=>(0,b.z)(e)))}async updateUserPinnedItemsPin(e){let t=this.pinnedItemsStrSet();t.add((0,b.z)(e));let r=(0,b.v)(t);await this.updateSettings({pinnedItems:r})}async updateUserPinnedItemsUnpin(e){let t=this.pinnedItemsStrSet();t.delete((0,b.z)(e));let r=(0,b.v)(t);await this.updateSettings({pinnedItems:r})}getOpenWorksheetTabs(){var e;return void 0===this.openWorksheetTabs&&(null===(e=this.currentUser)||void 0===e?void 0:e.settings)&&(this.openWorksheetTabs=this.currentUser.settings.openWorksheetPids||[]),[...this.openWorksheetTabs||[]]}isWorksheetTabOpen(e){return this.getOpenWorksheetTabs().includes(e)}updateWorksheetTabs(e,t){if(!e.length){var r;s.v.addAction("WORKSHEET_TABS_CLEAR",{origin:t,previousOpenTabsCount:null===(r=this.openWorksheetTabs)||void 0===r?void 0:r.length})}this.openWorksheetTabs=e,this.updateSettings({openWorksheetPids:e}),this.notify("USER_TABS_UPDATED")}openWorksheetTab(e){if(!this.isWorksheetTabOpen(e)){let t=this.getOpenWorksheetTabs().concat([e]);this.updateWorksheetTabs(t,"open-worksheet-tab")}}closeWorksheetTab(e){if(this.isWorksheetTabOpen(e)){let t=this.getOpenWorksheetTabs().filter(t=>t!==e);this.updateWorksheetTabs(t,"close-worksheet-tab")}}userConnectionSettings(e){var t;return((null===(t=this.currentUser)||void 0===t?void 0:t.settings.connections)||{})[e]||{}}async updateUserConnectionSettings(e,t){if(this.currentUser){let r=this.currentUser.settings.connections||{},s=V({},r[e]||{});for(let e in t)s[e]=t[e];let n=V({},r);n[e]=s,this.currentUser.settings.connections=n,await this.saveSettings()}}currentUserInfo(e){return this.urc.currentUserInfo(e)}userRequestContext(e){return this.urc.requestContext(e)}completeLogin(e,t,r,s,n,i=!0){var o,a,l,u;this.urc.completeLogin({account:e.account,name:e.name,url:e.url,region:s,appServerUrl:r,username:t.username,snowflakeOrgName:(null===(o=e.settings)||void 0===o?void 0:o.snowflakeOrgName)||"",edition:(null===(a=e.settings)||void 0===a?void 0:a.edition)||"",accountAlias:(null===(l=e.settings)||void 0===l?void 0:l.accountAlias)||"",currentDeploymentLocation:null===(u=e.settings)||void 0===u?void 0:u.currentDeploymentLocation},i,n),this.notify("COMPLETED_LOGIN")}toUserKey(e,t){return this.urc.toUserKey(e,t)}sortedUniqueLoggedInAccountsArray(){return this.urc.sortedUniqueLoggedInAccountsArray()}loggedInAccountsList(){return this.urc.loggedInAccountsList()}setBeachCookie(){var e;this.urc.setDefaultBeachCookieForAccount(null===(e=this._stores.organization.activeOrg)||void 0===e?void 0:e.account)}showLoginOptInModal(){if(this.currentUser){var e;if(this.getSnowflakeParameterValue(i.gT.SNOWFLAKE_FEATURE_UI_LANDING_PAGE_OVERRIDE,"string")!==i.gT.UI_LANDING_PAGE_SNOWFLAKE_APP&&(null===(e=this.initialUrlQueryParameters)||void 0===e?void 0:e.optInModal)==="true")return!0}return!1}switchPrimaryUser(e,t){return this.urc.switchPrimaryUser(e,t)}clearBeachCookie(){this.beachState.clearBeachCookie()}currentBeach(){return this.beachState.currentBeach()}switchBeachVersion(e){return this.urc.switchBeachVersion(e)}showBeachBanner(){return this.environ==v.q.staging&&!!this.currentBeach()}showAccountBeachVersion(){if(this.environ==v.q.staging){var e;return!!this.urc.beachCookieForAccount(null===(e=this._stores.organization.activeOrg)||void 0===e?void 0:e.account)}return!!this.currentBeach()}async switchUser(e,t){return await this._stores.analytics.commit(),I.O.clearSession(),this.urc.switchUser(e,t)}isCurrentUser(e){return this.urc.isCurrentUser(e)}isOrgAliasEnabled(){return this.isSnowflakeFeatureEnabled(i.gT.SNOWFLAKE_FEATURE_USE_ORG_AND_ALIAS_FOR_DX)&&this.loggedInAccountsList().every(e=>!!e.snowflakeOrgName)}async fetchBootstrapData(){if(!this.isGuestUser)try{var e,t;let r=await this.api.post({path:"/fetch-bootstrap-data",data:{IncludeClientParameters:!1}});this._stores.organization.setOrg(r.organization),(0,L.H)(null===(t=r.organization)||void 0===t?void 0:null===(e=t.settings)||void 0===e?void 0:e.paramConfigs),void 0!==r.clientParameters&&this.updateClientParameters(r.clientParameters)}catch(e){this.handleException(e)}}async fetchExtendedBootstrapData(){if(this.isGuestUser){this.loadParameters();return}try{var e,t;let r=await this.api.post({path:"/fetch-extended-bootstrap-data"});this._stores.organization.setOrg(r.organization),(0,L.H)(null===(t=r.organization)||void 0===t?void 0:null===(e=t.settings)||void 0===e?void 0:e.paramConfigs),this.updateAccountInfo(r.accountInfo),void 0!==r.clientParameters&&this.updateClientParameters(r.clientParameters)}catch(e){this.handleException(e)}}async loadParameters(){try{let e=this.isGuestUser,{data:t}=await this.api.restPassthrough("POST","/request/console/bootstrap-data-request?desc=parameters",{role:"PUBLIC",isJsonBody:!0},{dataKinds:e?["CLIENT_PARAMS_INFO"]:["CLIENT_PARAMS_INFO","ACCOUNT"]});this.updateAccountInfo(null==t?void 0:t.accountInfo),this.updateClientParameters(t.clientParamsInfo)}catch(e){this.handleException(e)}}async waitForLoadClientParameters(){return this.loadClientParametersPromise}updateAccountInfo(e){if(e){var t,r;this.regionGroupType=null===(t=(null!==(r=e.availableRegions)&&void 0!==r?r:[])[e.currentDeploymentLocation])||void 0===t?void 0:t.regionGroupType,s.v.setUserProperty("account_type",e.type),s.v.setUserProperty("trial_status",e.trialStatus)}this.isOnDemandAccount=!!(null==e?void 0:e.onDemandAccount),this.accountOrgDefaultedToSnowsight=!!(null==e?void 0:e.accountOrgDefaultedToSnowsight),this.organizationAccount=!!(null==e?void 0:e.organizationAccount),W(this,$,(null==e?void 0:e.type)==="READER")}updateClientParameters(e){let t={},r=void 0===this.parameters||e.length!=Object.keys(this.parameters).length;for(let s of e){t[s.name]=s.value;let e=this.parameters?this.parameters[s.name]:null;r||e===s.value||(r=!0)}let s=n.FlagClient.getInstance();s&&s.updateRemoteFlags(t),r&&(this.parameters=t,this.notify("PARAMETERS_LOADED"),this.deprecated_storeSelectParamsForCoreUi()),this.checkCrossRoleSharingFlag(t)}deprecated_storeSelectParamsForCoreUi(){let e=this.isUiSpecifiedSnowflakeFeatureEnabled("UI_ENABLE_AF_FEATURE_42");window.localStorage.setItem("UI_ENABLE_AF_FEATURE_42",e.toString())}handleException(e){if(this.currentUser)throw e;this.notify("PARAMETERS_LOADED_GUEST_ERROR")}checkCrossRoleSharingFlag(e){if(this.currentUser)!!e[i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_CROSS_ROLE_SHARING]!=!!this.currentUser.settings.snowflakeFeatures[i.gT.SNOWFLAKE_FEATURE_UI_ENABLE_FEATURE_CROSS_ROLE_SHARING]&&this.onParameterOutOfSync()}static async checkUserSession(){var e,t;if(null===(t=y.X.stores)||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.isGuestUser)return;let r=new S.E,s=new A.s,n=new D.s,i=new R.P(T.U.urc,r,e=>new O.w(d,e),s,n);try{await i.restPassthrough("POST","/request/console/bootstrap-data-request",{role:"PUBLIC",isJsonBody:!0,keepAlive:!1},{dataKinds:[]})}catch(e){throw e}}currentRole(){return this.urc.currentRole()}currentSecondaryRoles(){return this.urc.currentSecondaryRoles()}hasNewPrimaryLoginOccurred(){return this.urc.hasNewPrimaryLoginOccurred()}switchCurrentRole(e){this.urc.switchCurrentRole(e)&&this.notify("USER_ROLE_CHANGED"),this.reduxStore&&this.reduxStore.dispatch((0,N.Tp)(e))}switchCurrentSecondaryRoles(e){this.urc.switchCurrentSecondaryRoles(e),this.notify("USER_SECONDARY_ROLES_CHANGED"),this.reduxStore&&this.reduxStore.dispatch((0,N.Hz)(e))}get hasSuperAccountAdminRole(){var e;return(0,C.i)(null===(e=this.currentUser)||void 0===e?void 0:e.availableRoles)}get isCurrentRoleSuperAccountAdmin(){return(0,g.h)(this.currentRole())}get hasSuperOrgAdminRole(){var e;return(0,p.j)(null===(e=this.currentUser)||void 0===e?void 0:e.availableRoles)}get isCurrentRoleSuperOrgAdmin(){return(0,m.l)(this.currentRole())}get superAccountAdmin(){return(0,h.m)(this.organizationAccount)}get superOrgAdmin(){return(0,f.D)(this.organizationAccount)}get hasSuperSecurityAdminRole(){var e;return(0,k.w)(null===(e=this.currentUser)||void 0===e?void 0:e.availableRoles)}get isCurrentRoleSuperSecurityAdmin(){return(0,x.E)(this.currentRole())}getAccountsForRegion({regionGroup:e,snowflakeRegion:t}){return this.loggedInAccountsList().filter(r=>r.currentDeploymentLocation===`${e}.${t}`)}async downloadWorksheets(e,t=d.nufetch){await t(`/worksheets-download?${(0,l.nZ)({username:e})}`,this.api.requestContext())}get isReaderAccount(){return M(this,$)}get allParameters(){if(this.parameters)return structuredClone(this.parameters)}constructor(e,t,r,s){super(e,t,s),B(this,$,{writable:!0,value:void 0}),B(this,Q,{writable:!0,value:void 0}),this.api=e,this.params=t,this.beachState=r,W(this,Q,new Set),this.userPinnedItemsForStr=(0,u.default)(e=>{let t=[];try{e&&(t=JSON.parse(e))}catch(e){console.warn("Caught exception trying to parse pinnedItems -- ignoring: ",e)}return t}),this.currentUserId=t.user?String(t.user.id):null,this.urc=t.urc,this.environ=t.environ,this.regionGroupType=t.regionGroupType,this.signoutInProgress=!1,this.initialUrlQueryParameters=c.parse(window.location.search),this.isOnDemandAccount=!1,W(this,$,!1),this.accountOrgDefaultedToSnowsight=!1,this.organizationAccount=!1,this.loadClientParametersPromise=new Promise(e=>{this._events.addListener("change",t=>{"PARAMETERS_LOADED"===t&&e()})}),(0,o.U)(e=>{let t=this.getSnowflakeParameterRawValue(e);return"boolean"==typeof t?this.isSnowflakeFeatureEnabled(e):"string"==typeof t&&this.isUiSpecifiedSnowflakeFeatureEnabled(e)})}}z.STORE_ID="user",z=function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}([(0,U.ri)(),G(0,(0,U.f3)(R.P)),G(1,(0,U.f3)("PageState")),G(2,(0,U.f3)(j.gL)),G(3,(0,U.f3)("ReduxStore"))],z)},532480:function(e,t,r){r.d(t,{At:()=>u,PW:()=>d,VX:()=>l,cO:()=>a,r:()=>c});var s=r(641419),n=r(561843);function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}let o={};function a(e){try{let t=e.lastIndexOf("/w");return t>0?e.substring(t+2):void 0}catch(e){return}}function l(e,t){let r={id:e,metrics:t};return o[e]=r,r}function u(e,t,r=!0){let a=o[e];return a&&(r?a.metrics=i({},a.metrics,t):a.metrics=i({},t,a.metrics),function(e){let t=e.metrics;if(t.worksheetId&&(t.statsEndTime||t.statsPollingEndTime)&&t.postQueryEndTime&&t.gsDurationMs&&t.resultsOnScreenTime){var r,a;let l={worksheetId:t.worksheetId,isMultistatement:t.isMultistatement,folderId:t.folderId,origin:t.origin,requestId:t.requestId,queryId:t.queryId},u=Math.max(t.postQueryEndTime,null!==(r=t.monitorPollingEndTime)&&void 0!==r?r:0),c=h(t.postQueryStartTime,u),d=h(u,t.resultsOnScreenTime),f=h(t.postQueryStartTime,t.resultsOnScreenTime),p=c&&c-t.gsDurationMs,g=d&&Math.max(d-t.gsDurationMs,d),m=f&&f-t.gsDurationMs,y=performance.timeOrigin+performance.now(),w=i({},l,{startTime:t.startTime,endTime:y,durationMs:h(t.startTime,y),statsStartTime:t.statsStartTime,statsEndTime:t.statsEndTime,statsFeDurationMs:h(t.statsStartTime,t.statsEndTime),statsPollingStartTime:t.statsPollingStartTime,statsPollingEndTime:t.statsPollingEndTime,statsPollingTimes:t.statsPollingTimes,statsBeDurationMs:h(t.statsPollingStartTime,t.statsPollingEndTime),monitorPollingCount:t.monitorPollingCount,monitorPollingLongestDurationMs:t.monitorPollingLongestDurationMs,monitorPollingShortestDurationMs:t.monitorPollingShortestDurationMs,monitorPollingStartTime:t.monitorPollingStartTime,monitorPollingEndTime:t.monitorPollingEndTime,monitorPollingTotalDuration:h(t.monitorPollingStartTime,t.monitorPollingEndTime),postQueryStartTime:t.postQueryStartTime,postQueryEndTime:t.postQueryEndTime,postQueryDuration:t.postQueryDuration,queryEndStatus:t.queryEndStatus,gsDurationMs:t.gsDurationMs,resultsOnScreenTime:t.resultsOnScreenTime,serverOverheadMs:p,clientOverheadMs:g,totalOverheadMs:m});n.cM.info("QE","Query Execution",w),s.v.addAction("snowsight-query-execution",w),o[(a=e).id],o[a.id]}}(a)),a}function c(e){return o[e]}function d(e){if(e){for(let[t,r]of Object.entries(o))if(r.metrics.queryId===e)return t}}function h(e,t){if(void 0!==e&&void 0!==t)return t-e}}}]);
//# sourceMappingURL=96886-23656724cb38ec6a.js.map